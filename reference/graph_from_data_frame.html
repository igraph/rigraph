<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function creates an igraph graph from one or two data frames containing
the (symbolic) edge list and edge/vertex attributes."><title>Creating igraph graphs from data frames or vice-versa — as_data_frame • igraph</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creating igraph graphs from data frames or vice-versa — as_data_frame"><meta property="og:description" content="This function creates an igraph graph from one or two data frames containing
the (symbolic) edge list and edge/vertex attributes."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">igraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.99.9003</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-get-started">Get started</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-get-started">
    <a class="dropdown-item" href="../articles/igraph.html">Intro</a>
    <a class="dropdown-item" href="../articles/igraph_ES.html">Intro (Español)</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/installation-troubleshooting.html">Installation FAQs</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">All articles</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/igraph/rigraph/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Creating igraph graphs from data frames or vice-versa</h1>
      <small class="dont-index">Source: <a href="https://github.com/igraph/rigraph/blob/HEAD/R/conversion.R" class="external-link"><code>R/conversion.R</code></a>, <a href="https://github.com/igraph/rigraph/blob/HEAD/R/data_frame.R" class="external-link"><code>R/data_frame.R</code></a></small>
      <div class="d-none name"><code>graph_from_data_frame.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function creates an igraph graph from one or two data frames containing
the (symbolic) edge list and edge/vertex attributes.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">as_data_frame</span><span class="op">(</span><span class="va">x</span>, what <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"edges"</span>, <span class="st">"vertices"</span>, <span class="st">"both"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">graph_from_data_frame</span><span class="op">(</span><span class="va">d</span>, directed <span class="op">=</span> <span class="cn">TRUE</span>, vertices <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">from_data_frame</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>An igraph object.</p></dd>


<dt>what</dt>
<dd><p>Character constant, whether to return info about vertices,
edges, or both. The default is ‘edges’.</p></dd>


<dt>d</dt>
<dd><p>A data frame containing a symbolic edge list in the first two
columns. Additional columns are considered as edge attributes.  Since
version 0.7 this argument is coerced to a data frame with
<code>as.data.frame</code>.</p></dd>


<dt>directed</dt>
<dd><p>Logical scalar, whether or not to create a directed graph.</p></dd>


<dt>vertices</dt>
<dd><p>A data frame with vertex metadata, or <code>NULL</code>. See
details below. Since version 0.7 this argument is coerced to a data frame
with <code>as.data.frame</code>, if not <code>NULL</code>.</p></dd>


<dt>...</dt>
<dd><p>Passed to <code>graph_from_data_frame()</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An igraph graph object for <code>graph_from_data_frame()</code>, and either a
data frame or a list of two data frames named <code>edges</code> and
<code>vertices</code> for <code>as.data.frame</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>graph_from_data_frame()</code> creates igraph graphs from one or two data frames.
It has two modes of operation, depending whether the <code>vertices</code>
argument is <code>NULL</code> or not.</p>
<p>If <code>vertices</code> is <code>NULL</code>, then the first two columns of <code>d</code>
are used as a symbolic edge list and additional columns as edge attributes.
The names of the attributes are taken from the names of the columns.</p>
<p>If <code>vertices</code> is not <code>NULL</code>, then it must be a data frame giving
vertex metadata. The first column of <code>vertices</code> is assumed to contain
symbolic vertex names, this will be added to the graphs as the
‘<code>name</code>’ vertex attribute. Other columns will be added as
additional vertex attributes. If <code>vertices</code> is not <code>NULL</code> then the
symbolic edge list given in <code>d</code> is checked to contain only vertex names
listed in <code>vertices</code>.</p>
<p>Typically, the data frames are exported from some spreadsheet software like
Excel and are imported into R via <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table()</a></code>,
<code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.delim()</a></code> or <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv()</a></code>.</p>
<p>All edges in the data frame are included in the graph, which may include
multiple parallel edges and loops.</p>
<p><code>as_data_frame()</code> converts the igraph graph into one or more data
frames, depending on the <code>what</code> argument.</p>
<p>If the <code>what</code> argument is <code>edges</code> (the default), then the edges of
the graph and also the edge attributes are returned. The edges will be in
the first two columns, named <code>from</code> and <code>to</code>. (This also denotes
edge direction for directed graphs.)  For named graphs, the vertex names
will be included in these columns, for other graphs, the numeric vertex ids.
The edge attributes will be in the other columns. It is not a good idea to
have an edge attribute named <code>from</code> or <code>to</code>, because then the
column named in the data frame will not be unique. The edges are listed in
the order of their numeric ids.</p>
<p>If the <code>what</code> argument is <code>vertices</code>, then vertex attributes are
returned. Vertices are listed in the order of their numeric vertex ids.</p>
<p>If the <code>what</code> argument is <code>both</code>, then both vertex and edge data
is returned, in a list with named entries <code>vertices</code> and <code>edges</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>For <code>graph_from_data_frame()</code> <code>NA</code> elements in the first two
columns ‘d’ are replaced by the string “NA” before creating
the graph. This means that all <code>NA</code>s will correspond to a single
vertex.</p>
<p><code>NA</code> elements in the first column of ‘vertices’ are also
replaced by the string “NA”, but the rest of ‘vertices’ is not
touched. In other words, vertex names (=the first column) cannot be
<code>NA</code>, but other vertex attributes can.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="graph_from_literal.html">graph_from_literal()</a></code>
for another way to create graphs, <code><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table()</a></code> to read in tables
from files.</p>
<p>Other conversion: 
<code><a href="as.directed.html">as.directed</a>()</code>,
<code><a href="as.matrix.igraph.html">as.matrix.igraph</a>()</code>,
<code><a href="as_adj_list.html">as_adj_list</a>()</code>,
<code><a href="as_adjacency_matrix.html">as_adjacency_matrix</a>()</code>,
<code><a href="as_biadjacency_matrix.html">as_biadjacency_matrix</a>()</code>,
<code><a href="as_edgelist.html">as_edgelist</a>()</code>,
<code><a href="as_graphnel.html">as_graphnel</a>()</code>,
<code><a href="as_long_data_frame.html">as_long_data_frame</a>()</code>,
<code><a href="graph_from_adj_list.html">graph_from_adj_list</a>()</code>,
<code><a href="graph_from_graphnel.html">graph_from_graphnel</a>()</code></p>
<p>Other biadjacency: 
<code><a href="graph_from_biadjacency_matrix.html">graph_from_biadjacency_matrix</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Gabor Csardi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## A simple example with a couple of actors</span></span></span>
<span class="r-in"><span><span class="co">## The typical case is that these tables are read in from files....</span></span></span>
<span class="r-in"><span><span class="va">actors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Cecil"</span>, <span class="st">"David"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"Esmeralda"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">48</span>, <span class="fl">33</span>, <span class="fl">45</span>, <span class="fl">34</span>, <span class="fl">21</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  gender <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"F"</span>, <span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"M"</span>, <span class="st">"F"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">relations</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"Bob"</span>, <span class="st">"Cecil"</span>, <span class="st">"Cecil"</span>, <span class="st">"David"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"David"</span>, <span class="st">"Esmeralda"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Alice"</span>, <span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Alice"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  same.dept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  friendship <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>, advice <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph_from_data_frame</span><span class="op">(</span><span class="va">relations</span>, directed <span class="op">=</span> <span class="cn">TRUE</span>, vertices <span class="op">=</span> <span class="va">actors</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">g</span>, e <span class="op">=</span> <span class="cn">TRUE</span>, v <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IGRAPH f14379a DN-- 5 6 -- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + attr: name (v/c), age (v/n), gender (v/c), same.dept (e/l),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | friendship (e/n), advice (e/n)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + edges from f14379a (vertex names):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] Bob      -&gt;Alice Cecil    -&gt;Bob   Cecil    -&gt;Alice David    -&gt;Alice</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] David    -&gt;Bob   Esmeralda-&gt;Alice</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The opposite operation</span></span></span>
<span class="r-in"><span><span class="fu">as_data_frame</span><span class="op">(</span><span class="va">g</span>, what <span class="op">=</span> <span class="st">"vertices"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                name age gender</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Alice         Alice  48      F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bob             Bob  33      M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Cecil         Cecil  45      F</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> David         David  34      M</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Esmeralda Esmeralda  21      F</span>
<span class="r-in"><span><span class="fu">as_data_frame</span><span class="op">(</span><span class="va">g</span>, what <span class="op">=</span> <span class="st">"edges"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        from    to same.dept friendship advice</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       Bob Alice     FALSE          4      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     Cecil   Bob     FALSE          5      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     Cecil Alice      TRUE          5      5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     David Alice     FALSE          2      4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     David   Bob     FALSE          1      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 Esmeralda Alice      TRUE          1      3</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://github.com/ntamas" class="external-link">Tamás Nepusz</a>, <a href="https://www.traag.net/" class="external-link">Vincent Traag</a>, <a href="http://szhorvat.net/" class="external-link">Szabolcs Horvát</a>, <a href="https://fabilab.org/pages/people.html" class="external-link">Fabio Zanini</a>, <a href="https://github.com/GroteGnoom" class="external-link">Daniel Noom</a>, <a href="https://krlmlr.info/" class="external-link">Kirill Müller</a>, Chan Zuckerberg Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

