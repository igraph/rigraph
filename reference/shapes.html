<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Starting from version 0.5.1 igraph supports different
vertex shapes when plotting graphs."><title>Various vertex shapes when plotting igraph graphs — shapes • igraph</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Various vertex shapes when plotting igraph graphs — shapes"><meta property="og:description" content="Starting from version 0.5.1 igraph supports different
vertex shapes when plotting graphs."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">igraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.6.0.9016</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-get-started">Get started</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-get-started">
    <a class="dropdown-item" href="../articles/igraph.html">Intro</a>
    <a class="dropdown-item" href="../articles/igraph_ES.html">Intro (Español)</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/installation-troubleshooting.html">Installation FAQs</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">All articles</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/igraph/rigraph/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Various vertex shapes when plotting igraph graphs</h1>
      <small class="dont-index">Source: <a href="https://github.com/igraph/rigraph/blob/HEAD/R/plot.shapes.R" class="external-link"><code>R/plot.shapes.R</code></a></small>
      <div class="d-none name"><code>shapes.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Starting from version 0.5.1 igraph supports different
vertex shapes when plotting graphs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">shapes</span><span class="op">(</span>shape <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">shape_noclip</span><span class="op">(</span><span class="va">coords</span>, <span class="va">el</span>, <span class="va">params</span>, end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"both"</span>, <span class="st">"from"</span>, <span class="st">"to"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">shape_noplot</span><span class="op">(</span><span class="va">coords</span>, v <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">params</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">add_shape</span><span class="op">(</span><span class="va">shape</span>, clip <span class="op">=</span> <span class="va">shape_noclip</span>, plot <span class="op">=</span> <span class="va">shape_noplot</span>, parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>shape</dt>
<dd><p>Character scalar, name of a vertex shape. If it is
<code>NULL</code> for <code>shapes()</code>, then the names of all defined
vertex shapes are returned.</p></dd>


<dt>coords, el, params, end, v</dt>
<dd><p>See parameters of the clipping/plotting
functions below.</p></dd>


<dt>clip</dt>
<dd><p>An R function object, the clipping function.</p></dd>


<dt>plot</dt>
<dd><p>An R function object, the plotting function.</p></dd>


<dt>parameters</dt>
<dd><p>Named list, additional plot/vertex/edge
parameters. The element named define the new parameters, and the
elements themselves define their default values.
Vertex parameters should have a prefix
‘<code>vertex.</code>’, edge parameters a prefix
‘<code>edge.</code>’. Other general plotting parameters should have
a prefix ‘<code>plot.</code>’. See Details below.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>shapes()</code> returns a character vector if the
<code>shape</code> argument is <code>NULL</code>. It returns a named list with
entries named ‘clip’ and ‘plot’, both of them R
functions.</p>


<p><code>add_shape()</code> returns <code>TRUE</code>, invisibly.</p>


<p><code>shape_noclip()</code> returns the appropriate columns of its
<code>coords</code> argument.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In igraph a vertex shape is defined by two functions: 1) provides
information about the size of the shape for clipping the edges and 2)
plots the shape if requested. These functions are called “shape
functions” in the rest of this manual page. The first one is the
clipping function and the second is the plotting function.</p>
<p>The clipping function has the following arguments:</p><dl><dt>coords</dt>
<dd><p>A matrix with four columns, it contains the
coordinates of the vertices for the edge list supplied in the
<code>el</code> argument.</p></dd>

<dt>el</dt>
<dd><p>A matrix with two columns, the edges of which some end
points will be clipped. It should have the same number of rows as
<code>coords</code>.</p></dd>

<dt>params</dt>
<dd><p>This is a function object that can be called to query
vertex/edge/plot graphical parameters. The first argument of the
function is “<code>vertex</code>”, “<code>edge</code>” or
“<code>plot</code>” to decide the type of the parameter, the
second is a character string giving the name of the
parameter. E.g.</p><div class="sourceCode"><pre><code><span></span>
<span>  <span class="fu">params</span><span class="op">(</span><span class="st">"vertex"</span>, <span class="st">"size"</span><span class="op">)</span></span>
<span>    </span></code></pre></div>
</dd>

<dt>end</dt>
<dd><p>Character string, it gives which end points will be
used. Possible values are “<code>both</code>”,
“<code>from</code>” and “<code>to</code>”. If
“<code>from</code>” the function is expected to clip the
first column in the <code>el</code> edge list, “<code>to</code>”
selects the second column, “<code>both</code>” selects both.</p></dd>


</dl><p>The clipping function should return a matrix
with the same number of rows as the <code>el</code> arguments.
If <code>end</code> is <code>both</code> then the matrix must have four
columns, otherwise two. The matrix contains the modified coordinates,
with the clipping applied.</p>
<p>The plotting function has the following arguments:</p><dl><dt>coords</dt>
<dd><p>The coordinates of the vertices, a matrix with two
columns.</p></dd>

<dt>v</dt>
<dd><p>The ids of the vertices to plot. It should match the number
of rows in the <code>coords</code> argument.</p></dd>

<dt>params</dt>
<dd><p>The same as for the clipping function, see above.</p></dd>


</dl><p>The return value of the plotting function is not used.</p>
<p><code>shapes()</code> can be used to list the names of all installed
vertex shapes, by calling it without arguments, or setting the
<code>shape</code> argument to <code>NULL</code>. If a shape name is given, then
the clipping and plotting functions of that shape are returned in a
named list.</p>
<p><code>add_shape()</code> can be used to add new vertex shapes to
igraph. For this one must give the clipping and plotting functions of
the new shape. It is also possible to list the plot/vertex/edge
parameters, in the <code>parameters</code> argument, that the clipping
and/or plotting functions can make use of. An example would be a
generic regular polygon shape, which can have a parameter for the
number of sides.</p>
<p><code>shape_noclip()</code> is a very simple clipping function that the
user can use in their own shape definitions. It does no clipping, the
edges will be drawn exactly until the listed vertex position
coordinates.</p>
<p><code>shape_noplot()</code> is a very simple (and probably not very
useful) plotting function, that does not plot anything.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># all vertex shapes, minus "raster", that might not be available</span></span></span>
<span class="r-in"><span><span class="va">shapes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="fu">shapes</span><span class="op">(</span><span class="op">)</span>, <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_ring.html">make_ring</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">shapes</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>,</span></span>
<span class="r-in"><span>  vertex.shape <span class="op">=</span> <span class="va">shapes</span>, vertex.label <span class="op">=</span> <span class="va">shapes</span>, vertex.label.dist <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  vertex.size <span class="op">=</span> <span class="fl">15</span>, vertex.size2 <span class="op">=</span> <span class="fl">15</span>,</span></span>
<span class="r-in"><span>  vertex.pie <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">shapes</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="kw">if</span> <span class="op">(</span><span class="va">x</span> <span class="op">==</span> <span class="st">"pie"</span><span class="op">)</span> <span class="fl">2</span><span class="op">:</span><span class="fl">6</span> <span class="kw">else</span> <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  vertex.pie.color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">heat.colors</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="shapes-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># add new vertex shape, plot nothing with no clipping</span></span></span>
<span class="r-in"><span><span class="fu">add_shape</span><span class="op">(</span><span class="st">"nil"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>, vertex.shape <span class="op">=</span> <span class="st">"nil"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="shapes-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#################################################################</span></span></span>
<span class="r-in"><span><span class="co"># triangle vertex shape</span></span></span>
<span class="r-in"><span><span class="va">mytriangle</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">coords</span>, <span class="va">v</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">params</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">vertex.color</span> <span class="op">&lt;-</span> <span class="fu">params</span><span class="op">(</span><span class="st">"vertex"</span>, <span class="st">"color"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vertex.color</span><span class="op">)</span> <span class="op">!=</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">vertex.color</span> <span class="op">&lt;-</span> <span class="va">vertex.color</span><span class="op">[</span><span class="va">v</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="va">vertex.size</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">/</span> <span class="fl">200</span> <span class="op">*</span> <span class="fu">params</span><span class="op">(</span><span class="st">"vertex"</span>, <span class="st">"size"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vertex.size</span><span class="op">)</span> <span class="op">!=</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">vertex.size</span> <span class="op">&lt;-</span> <span class="va">vertex.size</span><span class="op">[</span><span class="va">v</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/symbols.html" class="external-link">symbols</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    x <span class="op">=</span> <span class="va">coords</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>, y <span class="op">=</span> <span class="va">coords</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span>, bg <span class="op">=</span> <span class="va">vertex.color</span>,</span></span>
<span class="r-in"><span>    stars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">vertex.size</span>, <span class="va">vertex.size</span>, <span class="va">vertex.size</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    add <span class="op">=</span> <span class="cn">TRUE</span>, inches <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co"># clips as a circle</span></span></span>
<span class="r-in"><span><span class="fu">add_shape</span><span class="op">(</span><span class="st">"triangle"</span>,</span></span>
<span class="r-in"><span>  clip <span class="op">=</span> <span class="fu">shapes</span><span class="op">(</span><span class="st">"circle"</span><span class="op">)</span><span class="op">$</span><span class="va">clip</span>,</span></span>
<span class="r-in"><span>  plot <span class="op">=</span> <span class="va">mytriangle</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>,</span></span>
<span class="r-in"><span>  vertex.shape <span class="op">=</span> <span class="st">"triangle"</span>, vertex.color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span><span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  vertex.size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, length.out <span class="op">=</span> <span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="shapes-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#################################################################</span></span></span>
<span class="r-in"><span><span class="co"># generic star vertex shape, with a parameter for number of rays</span></span></span>
<span class="r-in"><span><span class="va">mystar</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">coords</span>, <span class="va">v</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">params</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">vertex.color</span> <span class="op">&lt;-</span> <span class="fu">params</span><span class="op">(</span><span class="st">"vertex"</span>, <span class="st">"color"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vertex.color</span><span class="op">)</span> <span class="op">!=</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">vertex.color</span> <span class="op">&lt;-</span> <span class="va">vertex.color</span><span class="op">[</span><span class="va">v</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="va">vertex.size</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">/</span> <span class="fl">200</span> <span class="op">*</span> <span class="fu">params</span><span class="op">(</span><span class="st">"vertex"</span>, <span class="st">"size"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">vertex.size</span><span class="op">)</span> <span class="op">!=</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">vertex.size</span> <span class="op">&lt;-</span> <span class="va">vertex.size</span><span class="op">[</span><span class="va">v</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="va">norays</span> <span class="op">&lt;-</span> <span class="fu">params</span><span class="op">(</span><span class="st">"vertex"</span>, <span class="st">"norays"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">norays</span><span class="op">)</span> <span class="op">!=</span> <span class="fl">1</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">v</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">norays</span> <span class="op">&lt;-</span> <span class="va">norays</span><span class="op">[</span><span class="va">v</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/mapply.html" class="external-link">mapply</a></span><span class="op">(</span><span class="va">coords</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>, <span class="va">coords</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span>, <span class="va">vertex.color</span>, <span class="va">vertex.size</span>, <span class="va">norays</span>,</span></span>
<span class="r-in"><span>    FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">bg</span>, <span class="va">size</span>, <span class="va">nor</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/graphics/symbols.html" class="external-link">symbols</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span>, bg <span class="op">=</span> <span class="va">bg</span>,</span></span>
<span class="r-in"><span>        stars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">size</span>, <span class="va">size</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">1</span>, ncol <span class="op">=</span> <span class="va">nor</span> <span class="op">*</span> <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        add <span class="op">=</span> <span class="cn">TRUE</span>, inches <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co"># no clipping, edges will be below the vertices anyway</span></span></span>
<span class="r-in"><span><span class="fu">add_shape</span><span class="op">(</span><span class="st">"star"</span>,</span></span>
<span class="r-in"><span>  clip <span class="op">=</span> <span class="va">shape_noclip</span>,</span></span>
<span class="r-in"><span>  plot <span class="op">=</span> <span class="va">mystar</span>, parameters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>vertex.norays <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>,</span></span>
<span class="r-in"><span>  vertex.shape <span class="op">=</span> <span class="st">"star"</span>, vertex.color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span><span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  vertex.size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, length.out <span class="op">=</span> <span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="shapes-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>,</span></span>
<span class="r-in"><span>  vertex.shape <span class="op">=</span> <span class="st">"star"</span>, vertex.color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span><span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  vertex.size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, length.out <span class="op">=</span> <span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  vertex.norays <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">4</span><span class="op">:</span><span class="fl">8</span>, length.out <span class="op">=</span> <span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="shapes-5.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://github.com/ntamas" class="external-link">Tamás Nepusz</a>, <a href="https://www.traag.net/" class="external-link">Vincent Traag</a>, <a href="http://szhorvat.net/" class="external-link">Szabolcs Horvát</a>, <a href="https://fabilab.org/pages/people.html" class="external-link">Fabio Zanini</a>, <a href="https://github.com/GroteGnoom" class="external-link">Daniel Noom</a>, <a href="https://krlmlr.info/" class="external-link">Kirill Müller</a>, Chan Zuckerberg Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

