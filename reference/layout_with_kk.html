<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>The Kamada-Kawai layout algorithm — layout_with_kk • igraph</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The Kamada-Kawai layout algorithm — layout_with_kk"><meta name="description" content="Place the vertices on the plane, or in 3D space, based on a physical
model of springs."><meta property="og:description" content="Place the vertices on the plane, or in 3D space, based on a physical
model of springs."><meta property="og:image" content="https://r.igraph.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">igraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.3.9059</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started"><li><a class="dropdown-item" href="../articles/igraph.html">Intro</a></li>
    <li><a class="dropdown-item" href="../articles/igraph_ES.html">Intro (Español)</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/installation-troubleshooting.html">Installation FAQs</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">All articles</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/igraph/rigraph/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>The Kamada-Kawai layout algorithm</h1>
      <small class="dont-index">Source: <a href="https://github.com/igraph/rigraph/blob/main/R/layout.R" class="external-link"><code>R/layout.R</code></a></small>
      <div class="d-none name"><code>layout_with_kk.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Place the vertices on the plane, or in 3D space, based on a physical
model of springs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">layout_with_kk</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  coords <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dim <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  maxiter <span class="op">=</span> <span class="fl">50</span> <span class="op">*</span> <span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">graph</span><span class="op">)</span>,</span>
<span>  epsilon <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  kkconst <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">graph</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  minx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  miny <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxy <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  minz <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxz <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  niter <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  sigma <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  initemp <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  coolexp <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  start <span class="op">=</span> <span class="fu">deprecated</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">with_kk</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>The input graph. Edge directions are ignored.</p></dd>


<dt id="arg-coords">coords<a class="anchor" aria-label="anchor" href="#arg-coords"></a></dt>
<dd><p>If not <code>NULL</code>, then the starting coordinates should be
given here, in a two or three column matrix, depending on the <code>dim</code>
argument.</p></dd>


<dt id="arg-dim">dim<a class="anchor" aria-label="anchor" href="#arg-dim"></a></dt>
<dd><p>Integer scalar, 2 or 3, the dimension of the layout.  Two
dimensional layouts are places on a plane, three dimensional ones in the 3d
space.</p></dd>


<dt id="arg-maxiter">maxiter<a class="anchor" aria-label="anchor" href="#arg-maxiter"></a></dt>
<dd><p>The maximum number of iterations to perform. The algorithm
might terminate earlier, see the <code>epsilon</code> argument.</p></dd>


<dt id="arg-epsilon">epsilon<a class="anchor" aria-label="anchor" href="#arg-epsilon"></a></dt>
<dd><p>Numeric scalar, the algorithm terminates, if the maximal
delta is less than this. (See the reference below for what delta means.) If
you set this to zero, then the function always performs <code>maxiter</code>
iterations.</p></dd>


<dt id="arg-kkconst">kkconst<a class="anchor" aria-label="anchor" href="#arg-kkconst"></a></dt>
<dd><p>Numeric scalar, the Kamada-Kawai vertex attraction constant.
Typical (and default) value is the number of vertices.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>Edge weights, larger values will result longer edges.
Note that this is opposite to <code><a href="layout_with_fr.html">layout_with_fr()</a></code>. Weights must
be positive.</p></dd>


<dt id="arg-minx">minx<a class="anchor" aria-label="anchor" href="#arg-minx"></a></dt>
<dd><p>If not <code>NULL</code>, then it must be a numeric vector that gives
lower boundaries for the ‘x’ coordinates of the vertices. The length
of the vector must match the number of vertices in the graph.</p></dd>


<dt id="arg-maxx">maxx<a class="anchor" aria-label="anchor" href="#arg-maxx"></a></dt>
<dd><p>Similar to <code>minx</code>, but gives the upper boundaries.</p></dd>


<dt id="arg-miny">miny<a class="anchor" aria-label="anchor" href="#arg-miny"></a></dt>
<dd><p>Similar to <code>minx</code>, but gives the lower boundaries of the
‘y’ coordinates.</p></dd>


<dt id="arg-maxy">maxy<a class="anchor" aria-label="anchor" href="#arg-maxy"></a></dt>
<dd><p>Similar to <code>minx</code>, but gives the upper boundaries of the
‘y’ coordinates.</p></dd>


<dt id="arg-minz">minz<a class="anchor" aria-label="anchor" href="#arg-minz"></a></dt>
<dd><p>Similar to <code>minx</code>, but gives the lower boundaries of the
‘z’ coordinates.</p></dd>


<dt id="arg-maxz">maxz<a class="anchor" aria-label="anchor" href="#arg-maxz"></a></dt>
<dd><p>Similar to <code>minx</code>, but gives the upper boundaries of the
‘z’ coordinates.</p></dd>


<dt id="arg-niter-sigma-initemp-coolexp">niter, sigma, initemp, coolexp<a class="anchor" aria-label="anchor" href="#arg-niter-sigma-initemp-coolexp"></a></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> These
arguments are not supported from igraph version 0.8.0 and are ignored (with a warning).</p></dd>


<dt id="arg-start">start<a class="anchor" aria-label="anchor" href="#arg-start"></a></dt>
<dd><p>Deprecated synonym for <code>coords</code>, for compatibility.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Passed to <code>layout_with_kk()</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A numeric matrix with two (dim=2) or three (dim=3) columns, and as
many rows as the number of vertices, the x, y and potentially z coordinates
of the vertices.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>See the referenced paper below for the details of the algorithm.</p>
<p>This function was rewritten from scratch in igraph version 0.8.0 and it
follows truthfully the original publication by Kamada and Kawai now.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Kamada, T. and Kawai, S.: An Algorithm for Drawing General
Undirected Graphs. <em>Information Processing Letters</em>, 31/1, 7–15, 1989.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="layout_with_drl.html">layout_with_drl()</a></code>, <code><a href="plot.igraph.html">plot.igraph()</a></code>,
<code><a href="tkplot.html">tkplot()</a></code></p>
<p>Other graph layouts:
<code><a href="add_layout_.html">add_layout_</a>()</code>,
<code><a href="component_wise.html">component_wise</a>()</code>,
<code><a href="layout_.html">layout_</a>()</code>,
<code><a href="layout_as_bipartite.html">layout_as_bipartite</a>()</code>,
<code><a href="layout_as_star.html">layout_as_star</a>()</code>,
<code><a href="layout_as_tree.html">layout_as_tree</a>()</code>,
<code><a href="layout_in_circle.html">layout_in_circle</a>()</code>,
<code><a href="layout_nicely.html">layout_nicely</a>()</code>,
<code><a href="layout_on_grid.html">layout_on_grid</a>()</code>,
<code><a href="layout_on_sphere.html">layout_on_sphere</a>()</code>,
<code><a href="layout_randomly.html">layout_randomly</a>()</code>,
<code><a href="layout_with_dh.html">layout_with_dh</a>()</code>,
<code><a href="layout_with_fr.html">layout_with_fr</a>()</code>,
<code><a href="layout_with_gem.html">layout_with_gem</a>()</code>,
<code><a href="layout_with_graphopt.html">layout_with_graphopt</a>()</code>,
<code><a href="layout_with_lgl.html">layout_with_lgl</a>()</code>,
<code><a href="layout_with_mds.html">layout_with_mds</a>()</code>,
<code><a href="layout_with_sugiyama.html">layout_with_sugiyama</a>()</code>,
<code><a href="merge_coords.html">merge_coords</a>()</code>,
<code><a href="norm_coords.html">norm_coords</a>()</code>,
<code><a href="normalize.html">normalize</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Gabor Csardi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_ring.html">make_ring</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, length.out <span class="op">=</span> <span class="fu"><a href="gsize.html">ecount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g</span>, layout <span class="op">=</span> <span class="va">layout_with_kk</span>, edge.label <span class="op">=</span> <span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">weight</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="layout_with_kk-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://github.com/ntamas" class="external-link">Tamás Nepusz</a>, <a href="https://www.traag.net/" class="external-link">Vincent Traag</a>, <a href="http://szhorvat.net/" class="external-link">Szabolcs Horvát</a>, <a href="https://fabilab.org/pages/people.html" class="external-link">Fabio Zanini</a>, <a href="https://github.com/GroteGnoom" class="external-link">Daniel Noom</a>, <a href="https://krlmlr.info/" class="external-link">Kirill Müller</a>, Chan Zuckerberg Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

