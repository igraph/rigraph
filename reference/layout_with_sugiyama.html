<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>The Sugiyama graph layout generator — layout_with_sugiyama • igraph</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The Sugiyama graph layout generator — layout_with_sugiyama"><meta name="description" content="Sugiyama layout algorithm for layered directed acyclic graphs. The algorithm
minimized edge crossings."><meta property="og:description" content="Sugiyama layout algorithm for layered directed acyclic graphs. The algorithm
minimized edge crossings."><meta property="og:image" content="https://r.igraph.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">igraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.3.9059</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started"><li><a class="dropdown-item" href="../articles/igraph.html">Intro</a></li>
    <li><a class="dropdown-item" href="../articles/igraph_ES.html">Intro (Español)</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/installation-troubleshooting.html">Installation FAQs</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">All articles</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/igraph/rigraph/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>The Sugiyama graph layout generator</h1>
      <small class="dont-index">Source: <a href="https://github.com/igraph/rigraph/blob/main/R/layout.R" class="external-link"><code>R/layout.R</code></a></small>
      <div class="d-none name"><code>layout_with_sugiyama.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Sugiyama layout algorithm for layered directed acyclic graphs. The algorithm
minimized edge crossings.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">layout_with_sugiyama</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  layers <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  hgap <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  vgap <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  maxiter <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  attributes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"default"</span>, <span class="st">"all"</span>, <span class="st">"none"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">with_sugiyama</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>The input graph.</p></dd>


<dt id="arg-layers">layers<a class="anchor" aria-label="anchor" href="#arg-layers"></a></dt>
<dd><p>A numeric vector or <code>NULL</code>. If not <code>NULL</code>, then it
should specify the layer index of the vertices. Layers are numbered from
one. If <code>NULL</code>, then igraph calculates the layers automatically.</p></dd>


<dt id="arg-hgap">hgap<a class="anchor" aria-label="anchor" href="#arg-hgap"></a></dt>
<dd><p>Real scalar, the minimum horizontal gap between vertices in the
same layer.</p></dd>


<dt id="arg-vgap">vgap<a class="anchor" aria-label="anchor" href="#arg-vgap"></a></dt>
<dd><p>Real scalar, the distance between layers.</p></dd>


<dt id="arg-maxiter">maxiter<a class="anchor" aria-label="anchor" href="#arg-maxiter"></a></dt>
<dd><p>Integer scalar, the maximum number of iterations in the
crossing minimization stage. 100 is a reasonable default; if you feel that
you have too many edge crossings, increase this.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>Optional edge weight vector. If <code>NULL</code>, then the
'weight' edge attribute is used, if there is one. Supply <code>NA</code> here and
igraph ignores the edge weights. These are used only if the graph
contains cycles; igraph will tend to reverse edges with smaller weights
when breaking the cycles.</p></dd>


<dt id="arg-attributes">attributes<a class="anchor" aria-label="anchor" href="#arg-attributes"></a></dt>
<dd><p>Which graph/vertex/edge attributes to keep in the extended
graph. ‘default’ keeps the ‘size’, ‘size2’,
‘shape’, ‘label’ and ‘color’ vertex attributes and the
‘arrow.mode’ and ‘arrow.size’ edge attributes. ‘all’
keep all graph, vertex and edge attributes, ‘none’ keeps none of
them.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Passed to <code>layout_with_sugiyama()</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with the components:</p>
<dl><dt>layout</dt>
<dd><p>The layout, a two-column
matrix, for the original graph vertices.</p></dd>
 <dt>layout.dummy</dt>
<dd><p>The layout for
the dummy vertices, a two column matrix.</p></dd>
 <dt>extd_graph</dt>
<dd><p>The original
graph, extended with dummy vertices.  The ‘dummy’ vertex attribute is
set on this graph, it is a logical attributes, and it tells you whether the
vertex is a dummy vertex. The ‘layout’ graph attribute is also set,
and it is the layout matrix for all (original and dummy) vertices.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This layout algorithm is designed for directed acyclic graphs where each
vertex is assigned to a layer. Layers are indexed from zero, and vertices of
the same layer will be placed on the same horizontal line. The X coordinates
of vertices within each layer are decided by the heuristic proposed by
Sugiyama et al. to minimize edge crossings.</p>
<p>You can also try to lay out undirected graphs, graphs containing cycles, or
graphs without an a priori layered assignment with this algorithm. igraph
will try to eliminate cycles and assign vertices to layers, but there is no
guarantee on the quality of the layout in such cases.</p>
<p>The Sugiyama layout may introduce “bends” on the edges in order to
obtain a visually more pleasing layout. This is achieved by adding dummy
nodes to edges spanning more than one layer. The resulting layout assigns
coordinates not only to the nodes of the original graph but also to the
dummy nodes. The layout algorithm will also return the extended graph with
the dummy nodes.</p>
<p>For more details, see the reference below.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>K. Sugiyama, S. Tagawa and M. Toda, "Methods for Visual
Understanding of Hierarchical Systems". IEEE Transactions on Systems, Man
and Cybernetics 11(2):109-125, 1981.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other graph layouts:
<code><a href="add_layout_.html">add_layout_</a>()</code>,
<code><a href="component_wise.html">component_wise</a>()</code>,
<code><a href="layout_.html">layout_</a>()</code>,
<code><a href="layout_as_bipartite.html">layout_as_bipartite</a>()</code>,
<code><a href="layout_as_star.html">layout_as_star</a>()</code>,
<code><a href="layout_as_tree.html">layout_as_tree</a>()</code>,
<code><a href="layout_in_circle.html">layout_in_circle</a>()</code>,
<code><a href="layout_nicely.html">layout_nicely</a>()</code>,
<code><a href="layout_on_grid.html">layout_on_grid</a>()</code>,
<code><a href="layout_on_sphere.html">layout_on_sphere</a>()</code>,
<code><a href="layout_randomly.html">layout_randomly</a>()</code>,
<code><a href="layout_with_dh.html">layout_with_dh</a>()</code>,
<code><a href="layout_with_fr.html">layout_with_fr</a>()</code>,
<code><a href="layout_with_gem.html">layout_with_gem</a>()</code>,
<code><a href="layout_with_graphopt.html">layout_with_graphopt</a>()</code>,
<code><a href="layout_with_kk.html">layout_with_kk</a>()</code>,
<code><a href="layout_with_lgl.html">layout_with_lgl</a>()</code>,
<code><a href="layout_with_mds.html">layout_with_mds</a>()</code>,
<code><a href="merge_coords.html">merge_coords</a>()</code>,
<code><a href="norm_coords.html">norm_coords</a>()</code>,
<code><a href="normalize.html">normalize</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Tamas Nepusz <a href="mailto:ntamas@gmail.com">ntamas@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Data taken from http://tehnick-8.narod.ru/dc_clients/</span></span></span>
<span class="r-in"><span><span class="va">DC</span> <span class="op">&lt;-</span> <span class="fu"><a href="graph_from_literal.html">graph_from_literal</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"DC++"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"LinuxDC++"</span><span class="op">:</span><span class="st">"BCDC++"</span><span class="op">:</span><span class="st">"EiskaltDC++"</span><span class="op">:</span><span class="st">"StrongDC++"</span><span class="op">:</span><span class="st">"DiCe!++"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"LinuxDC++"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"FreeDC++"</span>, <span class="st">"BCDC++"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"StrongDC++"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"FreeDC++"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"BMDC++"</span><span class="op">:</span><span class="st">"EiskaltDC++"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"StrongDC++"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"AirDC++"</span><span class="op">:</span><span class="st">"zK++"</span><span class="op">:</span><span class="st">"ApexDC++"</span><span class="op">:</span><span class="st">"TkDC++"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"StrongDC++"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"StrongDC++ SQLite"</span><span class="op">:</span><span class="st">"RSX++"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"ApexDC++"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"FlylinkDC++ ver &lt;= 4xx"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"ApexDC++"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"ApexDC++ Speed-Mod"</span><span class="op">:</span><span class="st">"DiCe!++"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"StrongDC++ SQLite"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"FlylinkDC++ ver &gt;= 5xx"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"ApexDC++ Speed-Mod"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"FlylinkDC++ ver &lt;= 4xx"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"ApexDC++ Speed-Mod"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"GreylinkDC++"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"FlylinkDC++ ver &lt;= 4xx"</span> <span class="op">-</span><span class="op">+</span> <span class="st">"FlylinkDC++ ver &gt;= 5xx"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"FlylinkDC++ ver &lt;= 4xx"</span> <span class="op">-</span><span class="op">+</span> <span class="va">AvaLink</span>,</span></span>
<span class="r-in"><span>  <span class="st">"GreylinkDC++"</span> <span class="op">-</span><span class="op">+</span> <span class="va">AvaLink</span><span class="op">:</span><span class="st">"RayLinkDC++"</span><span class="op">:</span><span class="st">"SparkDC++"</span><span class="op">:</span><span class="va">PeLink</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Use edge types</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">$</span><span class="va">lty</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">[</span><span class="st">"BCDC++"</span> <span class="op"><a href="igraph-es-indexing.html">%-&gt;%</a></span> <span class="st">"StrongDC++"</span><span class="op">]</span><span class="op">$</span><span class="va">lty</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">[</span><span class="st">"FreeDC++"</span> <span class="op"><a href="igraph-es-indexing.html">%-&gt;%</a></span> <span class="st">"EiskaltDC++"</span><span class="op">]</span><span class="op">$</span><span class="va">lty</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">[</span><span class="st">"ApexDC++"</span> <span class="op"><a href="igraph-es-indexing.html">%-&gt;%</a></span> <span class="st">"FlylinkDC++ ver &lt;= 4xx"</span><span class="op">]</span><span class="op">$</span><span class="va">lty</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">[</span><span class="st">"ApexDC++"</span> <span class="op"><a href="igraph-es-indexing.html">%-&gt;%</a></span> <span class="st">"DiCe!++"</span><span class="op">]</span><span class="op">$</span><span class="va">lty</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">[</span><span class="st">"StrongDC++ SQLite"</span> <span class="op"><a href="igraph-es-indexing.html">%-&gt;%</a></span> <span class="st">"FlylinkDC++ ver &gt;= 5xx"</span><span class="op">]</span><span class="op">$</span><span class="va">lty</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">[</span><span class="st">"GreylinkDC++"</span> <span class="op"><a href="igraph-es-indexing.html">%-&gt;%</a></span> <span class="st">"AvaLink"</span><span class="op">]</span><span class="op">$</span><span class="va">lty</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Layers, as on the plot</span></span></span>
<span class="r-in"><span><span class="va">layers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DC++"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LinuxDC++"</span>, <span class="st">"BCDC++"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FreeDC++"</span>, <span class="st">"StrongDC++"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"BMDC++"</span>, <span class="st">"EiskaltDC++"</span>, <span class="st">"AirDC++"</span>, <span class="st">"zK++"</span>, <span class="st">"ApexDC++"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"TkDC++"</span>, <span class="st">"RSX++"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"StrongDC++ SQLite"</span>, <span class="st">"ApexDC++ Speed-Mod"</span>, <span class="st">"DiCe!++"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FlylinkDC++ ver &lt;= 4xx"</span>, <span class="st">"GreylinkDC++"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"FlylinkDC++ ver &gt;= 5xx"</span>, <span class="st">"AvaLink"</span>, <span class="st">"RayLinkDC++"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"SparkDC++"</span>, <span class="st">"PeLink"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check that we have all nodes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="va">layers</span><span class="op">)</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">$</span><span class="va">name</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Add some graphical parameters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">$</span><span class="va">color</span> <span class="op">&lt;-</span> <span class="st">"white"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">$</span><span class="va">shape</span> <span class="op">&lt;-</span> <span class="st">"rectangle"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">$</span><span class="va">size</span> <span class="op">&lt;-</span> <span class="fl">20</span></span></span>
<span class="r-in"><span><span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">$</span><span class="va">size2</span> <span class="op">&lt;-</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">$</span><span class="va">label</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">$</span><span class="va">name</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strwrap.html" class="external-link">strwrap</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">12</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">$</span><span class="va">arrow.size</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Create a similar layout using the predefined layers</span></span></span>
<span class="r-in"><span><span class="va">lay1</span> <span class="op">&lt;-</span> <span class="fu">layout_with_sugiyama</span><span class="op">(</span><span class="va">DC</span>, layers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">layers</span>,</span></span>
<span class="r-in"><span>  <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">DC</span><span class="op">)</span><span class="op">$</span><span class="va">name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">x</span></span></span>
<span class="r-in"><span><span class="op">)</span>, <span class="fl">1</span>, <span class="va">which</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Simple plot, not very nice</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">DC</span>, layout <span class="op">=</span> <span class="va">lay1</span><span class="op">$</span><span class="va">layout</span>, vertex.label.cex <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="layout_with_sugiyama-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Sugiyama plot</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">lay1</span><span class="op">$</span><span class="va">extd_graph</span>, vertex.label.cex <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="layout_with_sugiyama-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The same with automatic layer calculation</span></span></span>
<span class="r-in"><span><span class="co">## Keep vertex/edge attributes in the extended graph</span></span></span>
<span class="r-in"><span><span class="va">lay2</span> <span class="op">&lt;-</span> <span class="fu">layout_with_sugiyama</span><span class="op">(</span><span class="va">DC</span>, attributes <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">lay2</span><span class="op">$</span><span class="va">extd_graph</span>, vertex.label.cex <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="layout_with_sugiyama-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Another example, from the following paper:</span></span></span>
<span class="r-in"><span><span class="co">## Markus Eiglsperger, Martin Siebenhaller, Michael Kaufmann:</span></span></span>
<span class="r-in"><span><span class="co">## An Efficient Implementation of Sugiyama's Algorithm for</span></span></span>
<span class="r-in"><span><span class="co">## Layered Graph Drawing, Journal of Graph Algorithms and</span></span></span>
<span class="r-in"><span><span class="co">## Applications 9, 305--325 (2005).</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ex</span> <span class="op">&lt;-</span> <span class="fu"><a href="graph_from_literal.html">graph_from_literal</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fl">0</span> <span class="op">-</span><span class="op">+</span> <span class="fl">29</span><span class="op">:</span><span class="fl">6</span><span class="op">:</span><span class="fl">5</span><span class="op">:</span><span class="fl">20</span><span class="op">:</span><span class="fl">4</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1</span> <span class="op">-</span><span class="op">+</span> <span class="fl">12</span>,</span></span>
<span class="r-in"><span>  <span class="fl">2</span> <span class="op">-</span><span class="op">+</span> <span class="fl">23</span><span class="op">:</span><span class="fl">8</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3</span> <span class="op">-</span><span class="op">+</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  <span class="fl">5</span> <span class="op">-</span><span class="op">+</span> <span class="fl">2</span><span class="op">:</span><span class="fl">10</span><span class="op">:</span><span class="fl">14</span><span class="op">:</span><span class="fl">26</span><span class="op">:</span><span class="fl">4</span><span class="op">:</span><span class="fl">3</span>,</span></span>
<span class="r-in"><span>  <span class="fl">6</span> <span class="op">-</span><span class="op">+</span> <span class="fl">9</span><span class="op">:</span><span class="fl">29</span><span class="op">:</span><span class="fl">25</span><span class="op">:</span><span class="fl">21</span><span class="op">:</span><span class="fl">13</span>,</span></span>
<span class="r-in"><span>  <span class="fl">7</span>,</span></span>
<span class="r-in"><span>  <span class="fl">8</span> <span class="op">-</span><span class="op">+</span> <span class="fl">20</span><span class="op">:</span><span class="fl">16</span>,</span></span>
<span class="r-in"><span>  <span class="fl">9</span> <span class="op">-</span><span class="op">+</span> <span class="fl">28</span><span class="op">:</span><span class="fl">4</span>,</span></span>
<span class="r-in"><span>  <span class="fl">10</span> <span class="op">-</span><span class="op">+</span> <span class="fl">27</span>,</span></span>
<span class="r-in"><span>  <span class="fl">11</span> <span class="op">-</span><span class="op">+</span> <span class="fl">9</span><span class="op">:</span><span class="fl">16</span>,</span></span>
<span class="r-in"><span>  <span class="fl">12</span> <span class="op">-</span><span class="op">+</span> <span class="fl">9</span><span class="op">:</span><span class="fl">19</span>,</span></span>
<span class="r-in"><span>  <span class="fl">13</span> <span class="op">-</span><span class="op">+</span> <span class="fl">20</span>,</span></span>
<span class="r-in"><span>  <span class="fl">14</span> <span class="op">-</span><span class="op">+</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>  <span class="fl">15</span> <span class="op">-</span><span class="op">+</span> <span class="fl">16</span><span class="op">:</span><span class="fl">27</span>,</span></span>
<span class="r-in"><span>  <span class="fl">16</span> <span class="op">-</span><span class="op">+</span> <span class="fl">27</span>,</span></span>
<span class="r-in"><span>  <span class="fl">17</span> <span class="op">-</span><span class="op">+</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  <span class="fl">18</span> <span class="op">-</span><span class="op">+</span> <span class="fl">13</span>,</span></span>
<span class="r-in"><span>  <span class="fl">19</span> <span class="op">-</span><span class="op">+</span> <span class="fl">9</span>,</span></span>
<span class="r-in"><span>  <span class="fl">20</span> <span class="op">-</span><span class="op">+</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  <span class="fl">21</span> <span class="op">-</span><span class="op">+</span> <span class="fl">22</span>,</span></span>
<span class="r-in"><span>  <span class="fl">22</span> <span class="op">-</span><span class="op">+</span> <span class="fl">8</span><span class="op">:</span><span class="fl">9</span>,</span></span>
<span class="r-in"><span>  <span class="fl">23</span> <span class="op">-</span><span class="op">+</span> <span class="fl">9</span><span class="op">:</span><span class="fl">24</span>,</span></span>
<span class="r-in"><span>  <span class="fl">24</span> <span class="op">-</span><span class="op">+</span> <span class="fl">12</span><span class="op">:</span><span class="fl">15</span><span class="op">:</span><span class="fl">28</span>,</span></span>
<span class="r-in"><span>  <span class="fl">25</span> <span class="op">-</span><span class="op">+</span> <span class="fl">11</span>,</span></span>
<span class="r-in"><span>  <span class="fl">26</span> <span class="op">-</span><span class="op">+</span> <span class="fl">18</span>,</span></span>
<span class="r-in"><span>  <span class="fl">27</span> <span class="op">-</span><span class="op">+</span> <span class="fl">13</span><span class="op">:</span><span class="fl">19</span>,</span></span>
<span class="r-in"><span>  <span class="fl">28</span> <span class="op">-</span><span class="op">+</span> <span class="fl">7</span>,</span></span>
<span class="r-in"><span>  <span class="fl">29</span> <span class="op">-</span><span class="op">+</span> <span class="fl">25</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">layers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">17</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">14</span>, <span class="fl">26</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">23</span>, <span class="fl">10</span>, <span class="fl">18</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">24</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fl">12</span>, <span class="fl">6</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">29</span>, <span class="fl">21</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">22</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11</span>, <span class="fl">8</span>, <span class="fl">15</span><span class="op">)</span>, <span class="fl">16</span>, <span class="fl">27</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">13</span>, <span class="fl">19</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">9</span>, <span class="fl">20</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">28</span><span class="op">)</span>, <span class="fl">7</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">layex</span> <span class="op">&lt;-</span> <span class="fu">layout_with_sugiyama</span><span class="op">(</span><span class="va">ex</span>, layers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">layers</span>,</span></span>
<span class="r-in"><span>    <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">ex</span><span class="op">)</span><span class="op">$</span><span class="va">name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1</span>, <span class="va">which</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">origvert</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">ex</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">layex</span><span class="op">$</span><span class="va">layout.dummy</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">realedge</span> <span class="op">&lt;-</span> <span class="fu"><a href="as_edgelist.html">as_edgelist</a></span><span class="op">(</span><span class="va">layex</span><span class="op">$</span><span class="va">extd_graph</span><span class="op">)</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span> <span class="op">&lt;=</span> <span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">ex</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">layex</span><span class="op">$</span><span class="va">extd_graph</span>,</span></span>
<span class="r-in"><span>  vertex.label.cex <span class="op">=</span> <span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>  edge.arrow.size <span class="op">=</span> <span class="fl">.5</span>,</span></span>
<span class="r-in"><span>  vertex.size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">origvert</span>, <span class="fl">5</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  vertex.shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">origvert</span>, <span class="st">"square"</span>, <span class="st">"none"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  vertex.label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">origvert</span>, <span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">ex</span><span class="op">)</span><span class="op">$</span><span class="va">name</span>, <span class="st">""</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  edge.arrow.mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">realedge</span>, <span class="fl">2</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="layout_with_sugiyama-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://github.com/ntamas" class="external-link">Tamás Nepusz</a>, <a href="https://www.traag.net/" class="external-link">Vincent Traag</a>, <a href="http://szhorvat.net/" class="external-link">Szabolcs Horvát</a>, <a href="https://fabilab.org/pages/people.html" class="external-link">Fabio Zanini</a>, <a href="https://github.com/GroteGnoom" class="external-link">Daniel Noom</a>, <a href="https://krlmlr.info/" class="external-link">Kirill Müller</a>, Chan Zuckerberg Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

