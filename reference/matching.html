<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Matching — is_matching • igraph</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="../deps/MathJax-3.2.2/tex-chtml.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Matching — is_matching"><meta name="description" content="A matching in a graph means the selection of a set of edges that are
pairwise non-adjacent, i.e. they have no common incident vertices. A
matching is maximal if it is not a proper subset of any other matching."><meta property="og:description" content="A matching in a graph means the selection of a set of edges that are
pairwise non-adjacent, i.e. they have no common incident vertices. A
matching is maximal if it is not a proper subset of any other matching."><meta property="og:image" content="https://r.igraph.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">igraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.1.9905</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started"><li><a class="dropdown-item" href="../articles/igraph.html">Intro</a></li>
    <li><a class="dropdown-item" href="../articles/igraph_ES.html">Intro (Español)</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/installation-troubleshooting.html">Installation FAQs</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">All articles</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/igraph/rigraph/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Matching</h1>
      <small class="dont-index">Source: <a href="https://github.com/igraph/rigraph/blob/main/R/structural.properties.R" class="external-link"><code>R/structural.properties.R</code></a></small>
      <div class="d-none name"><code>matching.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A matching in a graph means the selection of a set of edges that are
pairwise non-adjacent, i.e. they have no common incident vertices. A
matching is maximal if it is not a proper subset of any other matching.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">is_matching</span><span class="op">(</span><span class="va">graph</span>, <span class="va">matching</span>, types <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_max_matching</span><span class="op">(</span><span class="va">graph</span>, <span class="va">matching</span>, types <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">max_bipartite_match</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  types <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  eps <span class="op">=</span> <span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>The input graph. It might be directed, but edge directions will
be ignored.</p></dd>


<dt id="arg-matching">matching<a class="anchor" aria-label="anchor" href="#arg-matching"></a></dt>
<dd><p>A potential matching. An integer vector that gives the
pair in the matching for each vertex. For vertices without a pair,
supply <code>NA</code> here.</p></dd>


<dt id="arg-types">types<a class="anchor" aria-label="anchor" href="#arg-types"></a></dt>
<dd><p>Vertex types, if the graph is bipartite. By default they
are taken from the ‘<code>type</code>’ vertex attribute, if present.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>Potential edge weights. If the graph has an edge
attribute called ‘<code>weight</code>’, and this argument is
<code>NULL</code>, then the edge attribute is used automatically.
In weighted matching, the weights of the edges must match as
much as possible.</p></dd>


<dt id="arg-eps">eps<a class="anchor" aria-label="anchor" href="#arg-eps"></a></dt>
<dd><p>A small real number used in equality tests in the weighted
bipartite matching algorithm. Two real numbers are considered equal in
the algorithm if their difference is smaller than <code>eps</code>. This is
required to avoid the accumulation of numerical errors. By default it is
set to the smallest \(x\), such that \(1+x \ne 1\)
holds. If you are running the algorithm with no weights, this argument
is ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>is_matching()</code> and <code>is_max_matching()</code> return a logical
scalar.</p>
<p><code>max_bipartite_match()</code> returns a list with components:</p>
<dl><dt>matching_size</dt>
<dd><p>The size of the matching, i.e. the number of edges
connecting the matched vertices.</p></dd>

<dt>matching_weight</dt>
<dd><p>The weights of the matching, if the graph was
weighted. For unweighted graphs this is the same as the size of the
matching.</p></dd>

<dt>matching</dt>
<dd><p>The matching itself. Numeric vertex id, or vertex
names if the graph was named. Non-matched vertices are denoted by
<code>NA</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>is_matching()</code> checks a matching vector and verifies whether its
length matches the number of vertices in the given graph, its values are
between zero (inclusive) and the number of vertices (inclusive), and
whether there exists a corresponding edge in the graph for every matched
vertex pair. For bipartite graphs, it also verifies whether the matched
vertices are in different parts of the graph.</p>
<p><code>is_max_matching()</code> checks whether a matching is maximal.  A matching
is maximal if and only if there exists no unmatched vertex in a graph
such that one of its neighbors is also unmatched.</p>
<p><code>max_bipartite_match()</code> calculates a maximum matching in a bipartite
graph. A matching in a bipartite graph is a partial assignment of
vertices of the first kind to vertices of the second kind such that each
vertex of the first kind is matched to at most one vertex of the second
kind and vice versa, and matched vertices must be connected by an edge
in the graph. The size (or cardinality) of a matching is the number of
edges. A matching is a maximum matching if there exists no other
matching with larger cardinality.  For weighted graphs, a maximum
matching is a matching whose edges have the largest possible total
weight among all possible matchings.</p>
<p>Maximum matchings in bipartite graphs are found by the push-relabel
algorithm with greedy initialization and a global relabeling after every
\(n/2\) steps where \(n\) is the number of vertices in the graph.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other structural.properties:
<code><a href="bfs.html">bfs</a>()</code>,
<code><a href="components.html">component_distribution</a>()</code>,
<code><a href="ego.html">connect</a>()</code>,
<code><a href="constraint.html">constraint</a>()</code>,
<code><a href="coreness.html">coreness</a>()</code>,
<code><a href="degree.html">degree</a>()</code>,
<code><a href="dfs.html">dfs</a>()</code>,
<code><a href="distances.html">distance_table</a>()</code>,
<code><a href="edge_density.html">edge_density</a>()</code>,
<code><a href="feedback_arc_set.html">feedback_arc_set</a>()</code>,
<code><a href="girth.html">girth</a>()</code>,
<code><a href="is_acyclic.html">is_acyclic</a>()</code>,
<code><a href="is_dag.html">is_dag</a>()</code>,
<code><a href="k_shortest_paths.html">k_shortest_paths</a>()</code>,
<code><a href="knn.html">knn</a>()</code>,
<code><a href="reciprocity.html">reciprocity</a>()</code>,
<code><a href="subcomponent.html">subcomponent</a>()</code>,
<code><a href="subgraph.html">subgraph</a>()</code>,
<code><a href="topo_sort.html">topo_sort</a>()</code>,
<code><a href="transitivity.html">transitivity</a>()</code>,
<code><a href="unfold_tree.html">unfold_tree</a>()</code>,
<code><a href="which_multiple.html">which_multiple</a>()</code>,
<code><a href="which_mutual.html">which_mutual</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Tamas Nepusz <a href="mailto:ntamas@gmail.com">ntamas@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="graph_from_literal.html">graph_from_literal</a></span><span class="op">(</span><span class="va">a</span> <span class="op">-</span> <span class="va">b</span> <span class="op">-</span> <span class="va">c</span> <span class="op">-</span> <span class="va">d</span> <span class="op">-</span> <span class="va">e</span> <span class="op">-</span> <span class="va">f</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="st">"a"</span>, <span class="st">"d"</span>, <span class="st">"c"</span>, <span class="st">"f"</span>, <span class="st">"e"</span><span class="op">)</span> <span class="co"># maximal matching</span></span></span>
<span class="r-in"><span><span class="va">m2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="st">"a"</span>, <span class="st">"d"</span>, <span class="st">"c"</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span> <span class="co"># non-maximal matching</span></span></span>
<span class="r-in"><span><span class="va">m3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"c"</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span> <span class="co"># not a matching</span></span></span>
<span class="r-in"><span><span class="fu">is_matching</span><span class="op">(</span><span class="va">g</span>, <span class="va">m1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="fu">is_matching</span><span class="op">(</span><span class="va">g</span>, <span class="va">m2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="fu">is_matching</span><span class="op">(</span><span class="va">g</span>, <span class="va">m3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span><span class="fu">is_max_matching</span><span class="op">(</span><span class="va">g</span>, <span class="va">m1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="fu">is_max_matching</span><span class="op">(</span><span class="va">g</span>, <span class="va">m2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span><span class="fu">is_max_matching</span><span class="op">(</span><span class="va">g</span>, <span class="va">m3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="print.igraph.html">print_all</a></span><span class="op">(</span><span class="va">g</span>, v <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IGRAPH a1cb109 UN-B 6 5 -- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + attr: name (v/c), type (v/l)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + vertex attributes:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |     name  type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [1]    a FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [2]    b  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [3]    c FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [4]    d  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [5]    e FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [6]    f  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + edges from a1cb109 (vertex names):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] a--b b--c c--d d--e e--f</span>
<span class="r-in"><span><span class="fu">max_bipartite_match</span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $matching_size</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $matching_weight</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $matching</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   a   b   c   d   e   f </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "b" "a" "d" "c" "f" "e" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">g2</span> <span class="op">&lt;-</span> <span class="fu"><a href="graph_from_literal.html">graph_from_literal</a></span><span class="op">(</span><span class="va">a</span> <span class="op">-</span> <span class="va">b</span> <span class="op">-</span> <span class="va">c</span> <span class="op">-</span> <span class="va">d</span> <span class="op">-</span> <span class="va">e</span> <span class="op">-</span> <span class="va">f</span> <span class="op">-</span> <span class="va">g</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">g2</span><span class="op">)</span><span class="op">$</span><span class="va">type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">g2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="print.igraph.html">print_all</a></span><span class="op">(</span><span class="va">g2</span>, v <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IGRAPH e61024a UN-B 7 6 -- </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + attr: name (v/c), type (v/l)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + vertex attributes:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |     name  type</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [1]    a FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [2]    b  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [3]    c FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [4]    d  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [5]    e FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [6]    f  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | [7]    g FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + edges from e61024a (vertex names):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] a--b b--c c--d d--e e--f f--g</span>
<span class="r-in"><span><span class="fu">max_bipartite_match</span><span class="op">(</span><span class="va">g2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $matching_size</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $matching_weight</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $matching</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   a   b   c   d   e   f   g </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "b" "a" "d" "c" "f" "e"  NA </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co">#' @keywords graphs</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://github.com/ntamas" class="external-link">Tamás Nepusz</a>, <a href="https://www.traag.net/" class="external-link">Vincent Traag</a>, <a href="http://szhorvat.net/" class="external-link">Szabolcs Horvát</a>, <a href="https://fabilab.org/pages/people.html" class="external-link">Fabio Zanini</a>, <a href="https://github.com/GroteGnoom" class="external-link">Daniel Noom</a>, <a href="https://krlmlr.info/" class="external-link">Kirill Müller</a>, Chan Zuckerberg Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

