<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Community structure detecting based on the leading eigenvector of the community matrix — cluster_leading_eigen • igraph</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Community structure detecting based on the leading eigenvector of the community matrix — cluster_leading_eigen"><meta name="description" content="This function tries to find densely connected subgraphs in a graph by
calculating the leading non-negative eigenvector of the modularity matrix of
the graph."><meta property="og:description" content="This function tries to find densely connected subgraphs in a graph by
calculating the leading non-negative eigenvector of the modularity matrix of
the graph."><meta property="og:image" content="https://r.igraph.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">igraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.3.9059</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started"><li><a class="dropdown-item" href="../articles/igraph.html">Intro</a></li>
    <li><a class="dropdown-item" href="../articles/igraph_ES.html">Intro (Español)</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/installation-troubleshooting.html">Installation FAQs</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">All articles</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/igraph/rigraph/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Community structure detecting based on the leading eigenvector of the community matrix</h1>
      <small class="dont-index">Source: <a href="https://github.com/igraph/rigraph/blob/main/R/community.R" class="external-link"><code>R/community.R</code></a></small>
      <div class="d-none name"><code>cluster_leading_eigen.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function tries to find densely connected subgraphs in a graph by
calculating the leading non-negative eigenvector of the modularity matrix of
the graph.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cluster_leading_eigen</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  steps <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  start <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="arpack.html">arpack_defaults</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  callback <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  extra <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  env <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>The input graph. Should be undirected as the method needs a
symmetric matrix.</p></dd>


<dt id="arg-steps">steps<a class="anchor" aria-label="anchor" href="#arg-steps"></a></dt>
<dd><p>The number of steps to take, this is actually the number of
tries to make a step. It is not a particularly useful parameter.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>The weights of the edges. It must be a positive numeric vector,
<code>NULL</code> or <code>NA</code>. If it is <code>NULL</code> and the input graph has a
‘weight’ edge attribute, then that attribute will be used. If
<code>NULL</code> and no such attribute is present, then the edges will have equal
weights. Set this to <code>NA</code> if the graph was a ‘weight’ edge
attribute, but you don't want to use it for community detection. A larger
edge weight means a stronger connection for this function.</p></dd>


<dt id="arg-start">start<a class="anchor" aria-label="anchor" href="#arg-start"></a></dt>
<dd><p><code>NULL</code>, or a numeric membership vector, giving the start
configuration of the algorithm.</p></dd>


<dt id="arg-options">options<a class="anchor" aria-label="anchor" href="#arg-options"></a></dt>
<dd><p>A named list to override some ARPACK options.</p></dd>


<dt id="arg-callback">callback<a class="anchor" aria-label="anchor" href="#arg-callback"></a></dt>
<dd><p>If not <code>NULL</code>, then it must be callback function. This
is called after each iteration, after calculating the leading eigenvector of
the modularity matrix. See details below.</p></dd>


<dt id="arg-extra">extra<a class="anchor" aria-label="anchor" href="#arg-extra"></a></dt>
<dd><p>Additional argument to supply to the callback function.</p></dd>


<dt id="arg-env">env<a class="anchor" aria-label="anchor" href="#arg-env"></a></dt>
<dd><p>The environment in which the callback function is evaluated.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>cluster_leading_eigen()</code> returns a named list with the
following members:</p>
<dl><dt>membership</dt>
<dd><p>The membership vector at the end of the
algorithm, when no more splits are possible.</p></dd>
 <dt>merges</dt>
<dd><p>The merges
matrix starting from the state described by the <code>membership</code> member.
This is a two-column matrix and each line describes a merge of two
communities, the first line is the first merge and it creates community
‘<code>N</code>’, <code>N</code> is the number of initial communities in the
graph, the second line creates community <code>N+1</code>, etc.</p></dd>

<dt>options</dt>
<dd><p>Information about the underlying ARPACK computation, see
<code><a href="arpack.html">arpack()</a></code> for details.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function documented in these section implements the ‘leading
eigenvector’ method developed by Mark Newman, see the reference below.</p>
<p>The heart of the method is the definition of the modularity matrix,
<code>B</code>, which is <code>B=A-P</code>, <code>A</code> being the adjacency matrix of the
(undirected) network, and <code>P</code> contains the probability that certain
edges are present according to the ‘configuration model’. In other
words, a <code>P[i,j]</code> element of <code>P</code> is the probability that there is
an edge between vertices <code>i</code> and <code>j</code> in a random network in which
the degrees of all vertices are the same as in the input graph.</p>
<p>The leading eigenvector method works by calculating the eigenvector of the
modularity matrix for the largest positive eigenvalue and then separating
vertices into two community based on the sign of the corresponding element
in the eigenvector. If all elements in the eigenvector are of the same sign
that means that the network has no underlying comuunity structure.  Check
Newman's paper to understand why this is a good method for detecting
community structure.</p>
    </div>
    <div class="section level2">
    <h2 id="callback-functions">Callback functions<a class="anchor" aria-label="anchor" href="#callback-functions"></a></h2>
    <p>The <code>callback</code> argument can be used to
supply a function that is called after each eigenvector calculation. The
following arguments are supplied to this function:</p><dl><dt>membership</dt>
<dd><p>The actual membership vector, with zero-based indexing.</p></dd>

<dt>community</dt>
<dd><p>The community that the algorithm just tried to split,
community numbering starts with zero here.</p></dd>

<dt>value</dt>
<dd><p>The eigenvalue belonging to the leading eigenvector the
algorithm just found.</p></dd>

<dt>vector</dt>
<dd><p>The leading eigenvector the algorithm just found.</p></dd>

<dt>multiplier</dt>
<dd><p>An R function that can be used to multiple the actual
modularity matrix with an arbitrary vector. Supply the vector as an
argument to perform this multiplication. This function can be used
with ARPACK.</p></dd>

<dt>extra</dt>
<dd><p>The <code>extra</code> argument that was passed to
<code>cluster_leading_eigen()</code>.</p></dd>

The callback function should return a scalar number. If this number
is non-zero, then the clustering is terminated.

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>MEJ Newman: Finding community structure using the eigenvectors
of matrices, Physical Review E 74 036104, 2006.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="modularity.igraph.html">modularity()</a></code>, <code><a href="cluster_walktrap.html">cluster_walktrap()</a></code>,
<code><a href="cluster_edge_betweenness.html">cluster_edge_betweenness()</a></code>,
<code><a href="cluster_fast_greedy.html">cluster_fast_greedy()</a></code>, <code><a href="https://rdrr.io/r/stats/dendrogram.html" class="external-link">as.dendrogram()</a></code></p>
<p>Community detection
<code><a href="as_membership.html">as_membership</a>()</code>,
<code><a href="cluster_edge_betweenness.html">cluster_edge_betweenness</a>()</code>,
<code><a href="cluster_fast_greedy.html">cluster_fast_greedy</a>()</code>,
<code><a href="cluster_fluid_communities.html">cluster_fluid_communities</a>()</code>,
<code><a href="cluster_infomap.html">cluster_infomap</a>()</code>,
<code><a href="cluster_label_prop.html">cluster_label_prop</a>()</code>,
<code><a href="cluster_leiden.html">cluster_leiden</a>()</code>,
<code><a href="cluster_louvain.html">cluster_louvain</a>()</code>,
<code><a href="cluster_optimal.html">cluster_optimal</a>()</code>,
<code><a href="cluster_spinglass.html">cluster_spinglass</a>()</code>,
<code><a href="cluster_walktrap.html">cluster_walktrap</a>()</code>,
<code><a href="compare.html">compare</a>()</code>,
<code><a href="groups.html">groups</a>()</code>,
<code><a href="make_clusters.html">make_clusters</a>()</code>,
<code><a href="communities.html">membership</a>()</code>,
<code><a href="modularity.igraph.html">modularity.igraph</a>()</code>,
<code><a href="plot_dendrogram.communities.html">plot_dendrogram</a>()</code>,
<code><a href="split_join_distance.html">split_join_distance</a>()</code>,
<code><a href="voronoi_cells.html">voronoi_cells</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Gabor Csardi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_full_graph.html">make_full_graph</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="disjoint_union.html">%du%</a></span> <span class="fu"><a href="make_full_graph.html">make_full_graph</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="disjoint_union.html">%du%</a></span> <span class="fu"><a href="make_full_graph.html">make_full_graph</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="add_edges.html">add_edges</a></span><span class="op">(</span><span class="va">g</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">6</span>, <span class="fl">1</span>, <span class="fl">11</span>, <span class="fl">6</span>, <span class="fl">11</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lec</span> <span class="op">&lt;-</span> <span class="fu">cluster_leading_eigen</span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lec</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IGRAPH clustering leading eigenvector, groups: 3, mod: 0.58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + groups:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $`1`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 1 2 3 4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $`2`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]  6  7  8  9 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $`3`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 11 12 13 14 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">cluster_leading_eigen</span><span class="op">(</span><span class="va">g</span>, start <span class="op">=</span> <span class="fu"><a href="communities.html">membership</a></span><span class="op">(</span><span class="va">lec</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> IGRAPH clustering leading eigenvector, groups: 3, mod: 0.58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> + groups:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $`1`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 1 2 3 4 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $`2`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1]  6  7  8  9 10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   $`3`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 11 12 13 14 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://github.com/ntamas" class="external-link">Tamás Nepusz</a>, <a href="https://www.traag.net/" class="external-link">Vincent Traag</a>, <a href="http://szhorvat.net/" class="external-link">Szabolcs Horvát</a>, <a href="https://fabilab.org/pages/people.html" class="external-link">Fabio Zanini</a>, <a href="https://github.com/GroteGnoom" class="external-link">Daniel Noom</a>, <a href="https://krlmlr.info/" class="external-link">Kirill Müller</a>, Chan Zuckerberg Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

