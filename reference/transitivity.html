<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Transitivity measures the probability that the adjacent vertices of a vertex
are connected. This is sometimes also called the clustering coefficient."><title>Transitivity of a graph — transitivity • igraph</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Transitivity of a graph — transitivity"><meta property="og:description" content="Transitivity measures the probability that the adjacent vertices of a vertex
are connected. This is sometimes also called the clustering coefficient."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">igraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0.9005</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-get-started">Get started</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-get-started">
    <a class="dropdown-item" href="../articles/igraph.html">Intro</a>
    <a class="dropdown-item" href="../articles/igraph_ES.html">Intro (Español)</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/installation-troubleshooting.html">Installation FAQs</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">All articles</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/igraph/rigraph/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Transitivity of a graph</h1>
      <small class="dont-index">Source: <a href="https://github.com/igraph/rigraph/blob/HEAD/R/structural.properties.R" class="external-link"><code>R/structural.properties.R</code></a></small>
      <div class="d-none name"><code>transitivity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Transitivity measures the probability that the adjacent vertices of a vertex
are connected. This is sometimes also called the clustering coefficient.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">transitivity</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"undirected"</span>, <span class="st">"global"</span>, <span class="st">"globalundirected"</span>, <span class="st">"localundirected"</span>, <span class="st">"local"</span>,</span>
<span>    <span class="st">"average"</span>, <span class="st">"localaverage"</span>, <span class="st">"localaverageundirected"</span>, <span class="st">"barrat"</span>, <span class="st">"weighted"</span><span class="op">)</span>,</span>
<span>  vids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  isolates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NaN"</span>, <span class="st">"zero"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>graph</dt>
<dd><p>The graph to analyze.</p></dd>


<dt>type</dt>
<dd><p>The type of the transitivity to calculate. Possible values:</p><dl><dt>"global"</dt>
<dd><p>The global transitivity of an undirected
graph. This is simply the ratio of the count of triangles and connected triples
in the graph. In directed graphs, edge directions are ignored.</p></dd>

<dt>"local"</dt>
<dd><p>The local transitivity of an undirected graph. It is
calculated for each vertex given in the <code>vids</code> argument. The local
transitivity of a vertex is the ratio of the count of triangles connected to the
vertex and the triples centered on the vertex. In directed graphs, edge
directions are ignored.</p></dd>

<dt>"undirected"</dt>
<dd><p>This is the same as <code>global</code>.</p></dd>

<dt>"globalundirected"</dt>
<dd><p>This is the same as <code>global</code>.</p></dd>

<dt>"localundirected"</dt>
<dd><p>This is the same as <code>local</code>.</p></dd>

<dt>"barrat"</dt>
<dd><p>The weighted transitivity as defined by A.
Barrat. See details below.</p></dd>

<dt>"weighted"</dt>
<dd><p>The same as <code>barrat</code>.</p></dd>
 
</dl></dd>


<dt>vids</dt>
<dd><p>The vertex ids for the local transitivity will be calculated.
This will be ignored for global transitivity types.  The default value is
<code>NULL</code>, in this case all vertices are considered. It is slightly faster
to supply <code>NULL</code> here than <code>V(graph)</code>.</p></dd>


<dt>weights</dt>
<dd><p>Optional weights for weighted transitivity. It is ignored for
other transitivity measures. If it is <code>NULL</code> (the default) and the
graph has a <code>weight</code> edge attribute, then it is used automatically.</p></dd>


<dt>isolates</dt>
<dd><p>Character scalar, for local versions of transitivity, it
defines how to treat vertices with degree zero and one.
If it is ‘<code>NaN</code>’ then their local transitivity is
reported as <code>NaN</code> and they are not included in the averaging, for the
transitivity types that calculate an average. If there are no vertices with
degree two or higher, then the averaging will still result <code>NaN</code>. If it
is ‘<code>zero</code>’, then we report 0 transitivity for them, and they
are included in the averaging, if an average is calculated.
For the global transitivity, it controls how to handle graphs with
no connected triplets: <code>NaN</code> or zero will be returned according to
the respective setting.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>For ‘<code>global</code>’ a single number, or <code>NaN</code> if there
are no connected triples in the graph.</p>


<p>For ‘<code>local</code>’ a vector of transitivity scores, one for each
vertex in ‘<code>vids</code>’.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Note that there are essentially two classes of transitivity measures, one is
a vertex-level, the other a graph level property.</p>
<p>There are several generalizations of transitivity to weighted graphs, here
we use the definition by A. Barrat, this is a local vertex-level quantity,
its formula is</p>
<p>$$C_i^w=\frac{1}{s_i(k_i-1)}\sum_{j,h}\frac{w_{ij}+w_{ih}}{2}a_{ij}a_{ih}a_{jh}$$</p>
<p>\(s_i\) is the strength of vertex \(i\), see
<code><a href="strength.html">strength()</a></code>, \(a_{ij}\) are elements of the
adjacency matrix, \(k_i\) is the vertex degree, \(w_{ij}\)
are the weights.</p>
<p>This formula gives back the normal not-weighted local transitivity if all
the edge weights are the same.</p>
<p>The <code>barrat</code> type of transitivity does not work for graphs with
multiple and/or loop edges. If you want to calculate it for a directed
graph, call <code><a href="as.directed.html">as.undirected()</a></code> with the <code>collapse</code> mode first.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Wasserman, S., and Faust, K. (1994). <em>Social Network
Analysis: Methods and Applications.</em> Cambridge: Cambridge University Press.</p>
<p>Alain Barrat, Marc Barthelemy, Romualdo Pastor-Satorras, Alessandro
Vespignani: The architecture of complex weighted networks, Proc. Natl. Acad.
Sci. USA 101, 3747 (2004)</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other structural.properties: 
<code><a href="bfs.html">bfs</a>()</code>,
<code><a href="components.html">component_distribution</a>()</code>,
<code><a href="ego.html">connect</a>()</code>,
<code><a href="constraint.html">constraint</a>()</code>,
<code><a href="coreness.html">coreness</a>()</code>,
<code><a href="degree.html">degree</a>()</code>,
<code><a href="dfs.html">dfs</a>()</code>,
<code><a href="distances.html">distance_table</a>()</code>,
<code><a href="edge_density.html">edge_density</a>()</code>,
<code><a href="feedback_arc_set.html">feedback_arc_set</a>()</code>,
<code><a href="girth.html">girth</a>()</code>,
<code><a href="is_acyclic.html">is_acyclic</a>()</code>,
<code><a href="is_dag.html">is_dag</a>()</code>,
<code><a href="matching.html">is_matching</a>()</code>,
<code><a href="k_shortest_paths.html">k_shortest_paths</a>()</code>,
<code><a href="knn.html">knn</a>()</code>,
<code><a href="laplacian_matrix.html">laplacian_matrix</a>()</code>,
<code><a href="reciprocity.html">reciprocity</a>()</code>,
<code><a href="subcomponent.html">subcomponent</a>()</code>,
<code><a href="subgraph.html">subgraph</a>()</code>,
<code><a href="topo_sort.html">topo_sort</a>()</code>,
<code><a href="unfold_tree.html">unfold_tree</a>()</code>,
<code><a href="which_multiple.html">which_multiple</a>()</code>,
<code><a href="which_mutual.html">which_mutual</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Gabor Csardi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="make_ring.html">make_ring</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">transitivity</span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0</span>
<span class="r-in"><span><span class="va">g2</span> <span class="op">&lt;-</span> <span class="fu"><a href="sample_gnp.html">sample_gnp</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">10</span> <span class="op">/</span> <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">transitivity</span><span class="op">(</span><span class="va">g2</span><span class="op">)</span> <span class="co"># this is about 10/1000</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.01046946</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Weighted version, the figure from the Barrat paper</span></span></span>
<span class="r-in"><span><span class="va">gw</span> <span class="op">&lt;-</span> <span class="fu"><a href="graph_from_literal.html">graph_from_literal</a></span><span class="op">(</span><span class="va">A</span> <span class="op">-</span> <span class="va">B</span><span class="op">:</span><span class="va">C</span><span class="op">:</span><span class="va">D</span><span class="op">:</span><span class="va">E</span>, <span class="va">B</span> <span class="op">-</span> <span class="va">C</span><span class="op">:</span><span class="va">D</span>, <span class="va">C</span> <span class="op">-</span> <span class="va">D</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">gw</span><span class="op">)</span><span class="op">$</span><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">gw</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">gw</span><span class="op">)</span><span class="op">[</span><span class="va">name</span> <span class="op">==</span> <span class="st">"A"</span><span class="op">]</span> <span class="op"><a href="igraph-es-indexing.html">%--%</a></span> <span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">gw</span><span class="op">)</span><span class="op">[</span><span class="va">name</span> <span class="op">==</span> <span class="st">"E"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fl">5</span></span></span>
<span class="r-in"><span><span class="fu">transitivity</span><span class="op">(</span><span class="va">gw</span>, vids <span class="op">=</span> <span class="st">"A"</span>, type <span class="op">=</span> <span class="st">"local"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   A </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.5 </span>
<span class="r-in"><span><span class="fu">transitivity</span><span class="op">(</span><span class="va">gw</span>, vids <span class="op">=</span> <span class="st">"A"</span>, type <span class="op">=</span> <span class="st">"weighted"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    A </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.25 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Weighted reduces to "local" if weights are the same</span></span></span>
<span class="r-in"><span><span class="va">gw2</span> <span class="op">&lt;-</span> <span class="fu"><a href="sample_gnp.html">sample_gnp</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">10</span> <span class="op">/</span> <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">gw2</span><span class="op">)</span><span class="op">$</span><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">t1</span> <span class="op">&lt;-</span> <span class="fu">transitivity</span><span class="op">(</span><span class="va">gw2</span>, type <span class="op">=</span> <span class="st">"local"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">t2</span> <span class="op">&lt;-</span> <span class="fu">transitivity</span><span class="op">(</span><span class="va">gw2</span>, type <span class="op">=</span> <span class="st">"weighted"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">t1</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">t2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="va">t1</span> <span class="op">==</span> <span class="va">t2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://github.com/ntamas" class="external-link">Tamás Nepusz</a>, <a href="https://www.traag.net/" class="external-link">Vincent Traag</a>, <a href="http://szhorvat.net/" class="external-link">Szabolcs Horvát</a>, <a href="https://fabilab.org/pages/people.html" class="external-link">Fabio Zanini</a>, <a href="https://github.com/GroteGnoom" class="external-link">Daniel Noom</a>, <a href="https://krlmlr.info/" class="external-link">Kirill Müller</a>, Chan Zuckerberg Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

