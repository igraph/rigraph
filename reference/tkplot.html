<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Interactive plotting of graphs — tkplot • igraph</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Interactive plotting of graphs — tkplot"><meta name="description" content="tkplot() and its companion functions serve as an interactive graph
drawing facility. Not all parameters of the plot can be changed
interactively right now though, e.g. the colors of vertices, edges, and also
others have to be pre-defined."><meta property="og:description" content="tkplot() and its companion functions serve as an interactive graph
drawing facility. Not all parameters of the plot can be changed
interactively right now though, e.g. the colors of vertices, edges, and also
others have to be pre-defined."><meta property="og:image" content="https://r.igraph.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">igraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.3.9059</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started"><li><a class="dropdown-item" href="../articles/igraph.html">Intro</a></li>
    <li><a class="dropdown-item" href="../articles/igraph_ES.html">Intro (Español)</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/installation-troubleshooting.html">Installation FAQs</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">All articles</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/igraph/rigraph/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Interactive plotting of graphs</h1>
      <small class="dont-index">Source: <a href="https://github.com/igraph/rigraph/blob/main/R/tkplot.R" class="external-link"><code>R/tkplot.R</code></a></small>
      <div class="d-none name"><code>tkplot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>tkplot()</code> and its companion functions serve as an interactive graph
drawing facility. Not all parameters of the plot can be changed
interactively right now though, e.g. the colors of vertices, edges, and also
others have to be pre-defined.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tkplot</span><span class="op">(</span><span class="va">graph</span>, canvas.width <span class="op">=</span> <span class="fl">450</span>, canvas.height <span class="op">=</span> <span class="fl">450</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tk_close</span><span class="op">(</span><span class="va">tkp.id</span>, window.close <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tk_off</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tk_fit</span><span class="op">(</span><span class="va">tkp.id</span>, width <span class="op">=</span> <span class="cn">NULL</span>, height <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tk_center</span><span class="op">(</span><span class="va">tkp.id</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tk_reshape</span><span class="op">(</span><span class="va">tkp.id</span>, <span class="va">newlayout</span>, <span class="va">...</span>, <span class="va">params</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tk_postscript</span><span class="op">(</span><span class="va">tkp.id</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tk_coords</span><span class="op">(</span><span class="va">tkp.id</span>, norm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tk_set_coords</span><span class="op">(</span><span class="va">tkp.id</span>, <span class="va">coords</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tk_rotate</span><span class="op">(</span><span class="va">tkp.id</span>, degree <span class="op">=</span> <span class="cn">NULL</span>, rad <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">tk_canvas</span><span class="op">(</span><span class="va">tkp.id</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>The <code>graph</code> to plot.</p></dd>


<dt id="arg-canvas-width-canvas-height">canvas.width, canvas.height<a class="anchor" aria-label="anchor" href="#arg-canvas-width-canvas-height"></a></dt>
<dd><p>The size of the tkplot drawing area.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional plotting parameters. See <a href="plot.common.html">igraph.plotting</a> for
the complete list.</p></dd>


<dt id="arg-tkp-id">tkp.id<a class="anchor" aria-label="anchor" href="#arg-tkp-id"></a></dt>
<dd><p>The id of the tkplot window to close/reshape/etc.</p></dd>


<dt id="arg-window-close">window.close<a class="anchor" aria-label="anchor" href="#arg-window-close"></a></dt>
<dd><p>Leave this on the default value.</p></dd>


<dt id="arg-width">width<a class="anchor" aria-label="anchor" href="#arg-width"></a></dt>
<dd><p>The width of the rectangle for generating new coordinates.</p></dd>


<dt id="arg-height">height<a class="anchor" aria-label="anchor" href="#arg-height"></a></dt>
<dd><p>The height of the rectangle for generating new coordinates.</p></dd>


<dt id="arg-newlayout">newlayout<a class="anchor" aria-label="anchor" href="#arg-newlayout"></a></dt>
<dd><p>The new layout, see the <code>layout</code> parameter of tkplot.</p></dd>


<dt id="arg-params">params<a class="anchor" aria-label="anchor" href="#arg-params"></a></dt>
<dd><p>Extra parameters in a list, to pass to the layout function.</p></dd>


<dt id="arg-norm">norm<a class="anchor" aria-label="anchor" href="#arg-norm"></a></dt>
<dd><p>Logical, should we norm the coordinates.</p></dd>


<dt id="arg-coords">coords<a class="anchor" aria-label="anchor" href="#arg-coords"></a></dt>
<dd><p>Two-column numeric matrix, the new coordinates of the
vertices, in absolute coordinates.</p></dd>


<dt id="arg-degree">degree<a class="anchor" aria-label="anchor" href="#arg-degree"></a></dt>
<dd><p>The degree to rotate the plot.</p></dd>


<dt id="arg-rad">rad<a class="anchor" aria-label="anchor" href="#arg-rad"></a></dt>
<dd><p>The degree to rotate the plot, in radian.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>tkplot()</code> returns an integer, the id of the plot, this can be
used to manipulate it from the command line.</p>
<p><code>tk_canvas()</code> returns <code>tkwin</code> object, the Tk canvas.</p>
<p><code>tk_coords()</code> returns a matrix with the coordinates.</p>
<p><code>tk_close()</code>, <code>tk_off()</code>, <code>tk_fit()</code>,
<code>tk_reshape()</code>, <code>tk_postscript()</code>, <code>tk_center()</code>
and <code>tk_rotate()</code> return <code>NULL</code> invisibly.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>tkplot()</code> is an interactive graph drawing facility. It is not very well
developed at this stage, but it should be still useful.</p>
<p>It's handling should be quite straightforward most of the time, here are
some remarks and hints.</p>
<p>There are different popup menus, activated by the right mouse button, for
vertices and edges. Both operate on the current selection if the vertex/edge
under the cursor is part of the selection and operate on the vertex/edge
under the cursor if it is not.</p>
<p>One selection can be active at a time, either a vertex or an edge selection.
A vertex/edge can be added to a selection by holding the <code>control</code> key
while clicking on it with the left mouse button. Doing this again deselect
the vertex/edge.</p>
<p>Selections can be made also from the "Select" menu. The "Select some
vertices" dialog allows to give an expression for the vertices to be
selected: this can be a list of numeric R expessions separated by commas,
like <code>1,2:10,12,14,15</code> for example. Similarly in the "Select some
edges" dialog two such lists can be given and all edges connecting a vertex
in the first list to one in the second list will be selected.</p>
<p>In the color dialog a color name like 'orange' or RGB notation can also be
used.</p>
<p>The <code>tkplot()</code> command creates a new Tk window with the graphical
representation of <code>graph</code>. The command returns an integer number, the
tkplot id. The other commands utilize this id to be able to query or
manipulate the plot.</p>
<p><code>tk_close()</code> closes the Tk plot with id <code>tkp.id</code>.</p>
<p><code>tk_off()</code> closes all Tk plots.</p>
<p><code>tk_fit()</code> fits the plot to the given rectangle
(<code>width</code> and <code>height</code>), if some of these are <code>NULL</code> the
actual physical width od height of the plot window is used.</p>
<p><code>tk_reshape()</code> applies a new layout to the plot, its optional
parameters will be collected to a list analogous to <code>layout.par</code>.</p>
<p><code>tk_postscript()</code> creates a dialog window for saving the plot
in postscript format.</p>
<p><code>tk_canvas()</code> returns the Tk canvas object that belongs to a graph
plot. The canvas can be directly manipulated then, e.g. labels can be added,
it could be saved to a file programmatically, etc. See an example below.</p>
<p><code>tk_coords()</code> returns the coordinates of the vertices in a matrix.
Each row corresponds to one vertex.</p>
<p><code>tk_set_coords()</code> sets the coordinates of the vertices. A two-column
matrix specifies the new positions, with each row corresponding to a single
vertex.</p>
<p><code>tk_center()</code> shifts the figure to the center of its plot window.</p>
<p><code>tk_rotate()</code> rotates the figure, its parameter can be given either
in degrees or in radians.</p>
<p>tkplot.center tkplot.rotate</p>
    </div>
    <div class="section level2">
    <h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h2>


<div class="sourceCode"><pre><code><span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_ring.html">make_ring</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/tkplot.html">tkplot</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Saving a tkplot() to a file programmatically</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_star.html">make_star</a></span><span class="op">(</span><span class="fl">10</span>, center<span class="op">=</span><span class="fl">10</span><span class="op">)</span> </span>
<span><span class="fu"><a href="../reference/E.html">E</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">width</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fu"><a href="../reference/gsize.html">ecount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">lay</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/layout_nicely.html">layout_nicely</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span>
<span></span>
<span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tkplot.html">tkplot</a></span><span class="op">(</span><span class="va">g</span>, layout<span class="op">=</span><span class="va">lay</span><span class="op">)</span></span>
<span><span class="va">canvas</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tkplot.html">tk_canvas</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="fu">tcltk</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/tcltk/TkWidgetcmds.html" class="external-link">tkpostscript</a></span><span class="op">(</span><span class="va">canvas</span>, file<span class="op">=</span><span class="st">"/tmp/output.eps"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/tkplot.html">tk_close</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Setting the coordinates and adding a title label</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_ring.html">make_ring</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tkplot.html">tkplot</a></span><span class="op">(</span><span class="fu"><a href="../reference/make_ring.html">make_ring</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span>, canvas.width<span class="op">=</span><span class="fl">450</span>, canvas.height<span class="op">=</span><span class="fl">500</span><span class="op">)</span></span>
<span></span>
<span><span class="va">canvas</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tkplot.html">tk_canvas</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span><span class="va">padding</span> <span class="op">&lt;-</span> <span class="fl">20</span></span>
<span><span class="va">coords</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/norm_coords.html">norm_coords</a></span><span class="op">(</span><span class="fu"><a href="../reference/layout_in_circle.html">layout_in_circle</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span>, <span class="fl">0</span><span class="op">+</span><span class="va">padding</span>, <span class="fl">450</span><span class="op">-</span><span class="va">padding</span>,</span>
<span>                      <span class="fl">50</span><span class="op">+</span><span class="va">padding</span>, <span class="fl">500</span><span class="op">-</span><span class="va">padding</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/tkplot.html">tk_set_coords</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">coords</span><span class="op">)</span></span>
<span></span>
<span><span class="va">width</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu">tkcget</span><span class="op">(</span><span class="va">canvas</span>, <span class="st">"-width"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">height</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu">tkcget</span><span class="op">(</span><span class="va">canvas</span>, <span class="st">"-height"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">tkcreate</span><span class="op">(</span><span class="va">canvas</span>, <span class="st">"text"</span>, <span class="va">width</span><span class="op">/</span><span class="fl">2</span>, <span class="fl">25</span>, text<span class="op">=</span><span class="st">"My title"</span>,</span>
<span>         justify<span class="op">=</span><span class="st">"center"</span>, font<span class="op">=</span><span class="fu">tcltk</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/tcltk/TkCommands.html" class="external-link">tkfont.create</a></span><span class="op">(</span>family<span class="op">=</span><span class="st">"helvetica"</span>,</span>
<span>         size<span class="op">=</span><span class="fl">20</span>,weight<span class="op">=</span><span class="st">"bold"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="plot.igraph.html">plot.igraph()</a></code>, <code><a href="layout_.html">layout()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Gabor Csardi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a></p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://github.com/ntamas" class="external-link">Tamás Nepusz</a>, <a href="https://www.traag.net/" class="external-link">Vincent Traag</a>, <a href="http://szhorvat.net/" class="external-link">Szabolcs Horvát</a>, <a href="https://fabilab.org/pages/people.html" class="external-link">Fabio Zanini</a>, <a href="https://github.com/GroteGnoom" class="external-link">Daniel Noom</a>, <a href="https://krlmlr.info/" class="external-link">Kirill Müller</a>, Chan Zuckerberg Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

