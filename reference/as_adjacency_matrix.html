<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Sometimes it is useful to work with a standard representation of a
graph, like an adjacency matrix."><title>Convert a graph to an adjacency matrix — as_adjacency_matrix • igraph</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convert a graph to an adjacency matrix — as_adjacency_matrix"><meta property="og:description" content="Sometimes it is useful to work with a standard representation of a
graph, like an adjacency matrix."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">igraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.99.9022</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-get-started">Get started</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-get-started">
    <a class="dropdown-item" href="../articles/igraph.html">Intro</a>
    <a class="dropdown-item" href="../articles/igraph_ES.html">Intro (Español)</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/installation-troubleshooting.html">Installation FAQs</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">All articles</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/igraph/rigraph/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Convert a graph to an adjacency matrix</h1>
      <small class="dont-index">Source: <a href="https://github.com/igraph/rigraph/blob/HEAD/R/conversion.R" class="external-link"><code>R/conversion.R</code></a></small>
      <div class="d-none name"><code>as_adjacency_matrix.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Sometimes it is useful to work with a standard representation of a
graph, like an adjacency matrix.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">as_adjacency_matrix</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"both"</span>, <span class="st">"upper"</span>, <span class="st">"lower"</span><span class="op">)</span>,</span>
<span>  attr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  edges <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  names <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sparse <span class="op">=</span> <span class="fu"><a href="igraph_options.html">igraph_opt</a></span><span class="op">(</span><span class="st">"sparsematrices"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">as_adj</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"both"</span>, <span class="st">"upper"</span>, <span class="st">"lower"</span><span class="op">)</span>,</span>
<span>  attr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  edges <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  names <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sparse <span class="op">=</span> <span class="fu"><a href="igraph_options.html">igraph_opt</a></span><span class="op">(</span><span class="st">"sparsematrices"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>graph</dt>
<dd><p>The graph to convert.</p></dd>


<dt>type</dt>
<dd><p>Gives how to create the adjacency matrix for undirected graphs.
It is ignored for directed graphs. Possible values: <code>upper</code>: the upper
right triangle of the matrix is used, <code>lower</code>: the lower left triangle
of the matrix is used. <code>both</code>: the whole matrix is used, a symmetric
matrix is returned.</p></dd>


<dt>attr</dt>
<dd><p>Either <code>NULL</code> or a character string giving an edge
attribute name. If <code>NULL</code> a traditional adjacency matrix is returned.
If not <code>NULL</code> then the values of the given edge attribute are included
in the adjacency matrix. If the graph has multiple edges, the edge attribute
of an arbitrarily chosen edge (for the multiple edges) is included. This
argument is ignored if <code>edges</code> is <code>TRUE</code>.</p>
<p>Note that this works only for certain attribute types. If the <code>sparse</code>
argumen is <code>TRUE</code>, then the attribute must be either logical or
numeric. If the <code>sparse</code> argument is <code>FALSE</code>, then character is
also allowed. The reason for the difference is that the <code>Matrix</code>
package does not support character sparse matrices yet.</p></dd>


<dt>edges</dt>
<dd><p>Logical scalar, whether to return the edge ids in the matrix.
For non-existant edges zero is returned.</p></dd>


<dt>names</dt>
<dd><p>Logical constant, whether to assign row and column names
to the matrix. These are only assigned if the <code>name</code> vertex attribute
is present in the graph.</p></dd>


<dt>sparse</dt>
<dd><p>Logical scalar, whether to create a sparse matrix. The
‘<code>Matrix</code>’ package must be installed for creating sparse
matrices.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>vcount(graph)</code> by <code>vcount(graph)</code> (usually) numeric
matrix.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>as_adjacency_matrix()</code> returns the adjacency matrix of a graph, a
regular matrix if <code>sparse</code> is <code>FALSE</code>, or a sparse matrix, as
defined in the ‘<code>Matrix</code>’ package, if <code>sparse</code> if
<code>TRUE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="graph_from_adjacency_matrix.html">graph_from_adjacency_matrix()</a></code>, <code><a href="read_graph.html">read_graph()</a></code></p>
<p>Other conversion: 
<code><a href="as.directed.html">as.directed</a>()</code>,
<code><a href="as.matrix.igraph.html">as.matrix.igraph</a>()</code>,
<code><a href="as_adj_list.html">as_adj_list</a>()</code>,
<code><a href="graph_from_data_frame.html">as_data_frame</a>()</code>,
<code><a href="as_edgelist.html">as_edgelist</a>()</code>,
<code><a href="as_graphnel.html">as_graphnel</a>()</code>,
<code><a href="as_incidence_matrix.html">as_incidence_matrix</a>()</code>,
<code><a href="as_long_data_frame.html">as_long_data_frame</a>()</code>,
<code><a href="graph_from_adj_list.html">graph_from_adj_list</a>()</code>,
<code><a href="graph_from_graphnel.html">graph_from_graphnel</a>()</code></p>
<p>Other conversion: 
<code><a href="as.directed.html">as.directed</a>()</code>,
<code><a href="as.matrix.igraph.html">as.matrix.igraph</a>()</code>,
<code><a href="as_adj_list.html">as_adj_list</a>()</code>,
<code><a href="graph_from_data_frame.html">as_data_frame</a>()</code>,
<code><a href="as_edgelist.html">as_edgelist</a>()</code>,
<code><a href="as_graphnel.html">as_graphnel</a>()</code>,
<code><a href="as_incidence_matrix.html">as_incidence_matrix</a>()</code>,
<code><a href="as_long_data_frame.html">as_long_data_frame</a>()</code>,
<code><a href="graph_from_adj_list.html">graph_from_adj_list</a>()</code>,
<code><a href="graph_from_graphnel.html">graph_from_graphnel</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="sample_gnp.html">sample_gnp</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">2</span> <span class="op">/</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">as_adjacency_matrix</span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 x 10 sparse Matrix of class "dgCMatrix"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] . . . . . . . 1 1 .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] . . 1 . . . . . . .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] . 1 . . . . 1 1 . .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] . . . . . . . . . .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] . . . . . 1 . 1 . .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] . . . . 1 . 1 . . .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] . . 1 . . 1 . . . 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 1 . 1 . 1 . . . . 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 1 . . . . . . . . 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] . . . . . . 1 1 1 .</span>
<span class="r-in"><span><span class="fu"><a href="V.html">V</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">name</span> <span class="op">&lt;-</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="gorder.html">vcount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu">as_adjacency_matrix</span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 x 10 sparse Matrix of class "dgCMatrix"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   [[ suppressing 10 column names ‘a’, ‘b’, ‘c’ ... ]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a . . . . . . . 1 1 .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> b . . 1 . . . . . . .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c . 1 . . . . 1 1 . .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> d . . . . . . . . . .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e . . . . . 1 . 1 . .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> f . . . . 1 . 1 . . .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> g . . 1 . . 1 . . . 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h 1 . 1 . 1 . . . . 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> i 1 . . . . . . . . 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> j . . . . . . 1 1 1 .</span>
<span class="r-in"><span><span class="fu"><a href="E.html">E</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">$</span><span class="va">weight</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu"><a href="gsize.html">ecount</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">as_adjacency_matrix</span><span class="op">(</span><span class="va">g</span>, attr <span class="op">=</span> <span class="st">"weight"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 x 10 sparse Matrix of class "dgCMatrix"</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   [[ suppressing 10 column names ‘a’, ‘b’, ‘c’ ... ]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a .         .         .         . .           .          .          0.125495772</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> b .         .         0.9695255 . .           .          .          .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c .         0.9695255 .         . .           .          0.14713281 0.514231354</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> d .         .         .         . .           .          .          .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e .         .         .         . .           0.00332753 .          0.003141262</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> f .         .         .         . 0.003327530 .          0.60409122 .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> g .         .         0.1471328 . .           0.60409122 .          .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h 0.1254958 .         0.5142314 . 0.003141262 .          .          .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> i 0.1863833 .         .         . .           .          .          .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> j .         .         .         . .           .          0.02471268 0.330121691</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> a 0.186383283 .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> b .           .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> c .           .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> d .           .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> e .           .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> f .           .          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> g .           0.024712676</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> h .           0.330121691</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> i .           0.009822477</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> j 0.009822477 .          </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://github.com/ntamas" class="external-link">Tamás Nepusz</a>, <a href="https://www.traag.net/" class="external-link">Vincent Traag</a>, <a href="http://szhorvat.net/" class="external-link">Szabolcs Horvát</a>, <a href="https://fabilab.org/pages/people.html" class="external-link">Fabio Zanini</a>, <a href="https://github.com/GroteGnoom" class="external-link">Daniel Noom</a>, <a href="https://krlmlr.info/" class="external-link">Kirill Müller</a>, Chan Zuckerberg Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

