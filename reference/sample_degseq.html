<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate random graphs with a given degree sequence — sample_degseq • igraph</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate random graphs with a given degree sequence — sample_degseq"><meta name="description" content="It is often useful to create a graph with given vertex degrees. This function
creates such a graph in a randomized manner."><meta property="og:description" content="It is often useful to create a graph with given vertex degrees. This function
creates such a graph in a randomized manner."><meta property="og:image" content="https://r.igraph.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">igraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.3.9059</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started"><li><a class="dropdown-item" href="../articles/igraph.html">Intro</a></li>
    <li><a class="dropdown-item" href="../articles/igraph_ES.html">Intro (Español)</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/installation-troubleshooting.html">Installation FAQs</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">All articles</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/igraph/rigraph/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Generate random graphs with a given degree sequence</h1>
      <small class="dont-index">Source: <a href="https://github.com/igraph/rigraph/blob/main/R/games.R" class="external-link"><code>R/games.R</code></a></small>
      <div class="d-none name"><code>sample_degseq.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>It is often useful to create a graph with given vertex degrees. This function
creates such a graph in a randomized manner.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sample_degseq</span><span class="op">(</span></span>
<span>  <span class="va">out.deg</span>,</span>
<span>  in.deg <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"configuration"</span>, <span class="st">"vl"</span>, <span class="st">"fast.heur.simple"</span>, <span class="st">"configuration.simple"</span>,</span>
<span>    <span class="st">"edge.switching.simple"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">degseq</span><span class="op">(</span><span class="va">...</span>, deterministic <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-out-deg">out.deg<a class="anchor" aria-label="anchor" href="#arg-out-deg"></a></dt>
<dd><p>Numeric vector, the sequence of degrees (for undirected
graphs) or out-degrees (for directed graphs). For undirected graphs its sum
should be even. For directed graphs its sum should be the same as the sum of
<code>in.deg</code>.</p></dd>


<dt id="arg-in-deg">in.deg<a class="anchor" aria-label="anchor" href="#arg-in-deg"></a></dt>
<dd><p>For directed graph, the in-degree sequence. By default this is
<code>NULL</code> and an undirected graph is created.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>Character, the method for generating the graph. See Details.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Passed to <code><a href="realize_degseq.html">realize_degseq()</a></code> if ‘deterministic’ is true,
or to <code>sample_degseq()</code> otherwise.</p></dd>


<dt id="arg-deterministic">deterministic<a class="anchor" aria-label="anchor" href="#arg-deterministic"></a></dt>
<dd><p>Whether the construction should be deterministic</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The new graph object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The “configuration” method (formerly called "simple") implements the
configuration model. For undirected graphs, it puts all vertex IDs in a bag
such that the multiplicity of a vertex in the bag is the same as its degree.
Then it draws pairs from the bag until the bag becomes empty. This method may
generate both loop (self) edges and multiple edges. For directed graphs,
the algorithm is basically the same, but two separate bags are used
for the in- and out-degrees. Undirected graphs are generated
with probability proportional to \((\prod_{i&lt;j} A_{ij} ! \prod_i A_{ii} !!)^{-1}\),
where A denotes the adjacency matrix and !! denotes the double factorial.
Here A is assumed to have twice the number of self-loops on its diagonal.
The corresponding expression for directed graphs is \((\prod_{i,j} A_{ij}!)^{-1}\).
Thus the probability of all simple graphs
(which only have 0s and 1s in the adjacency matrix)
is the same, while that of non-simple ones depends on their edge and
self-loop multiplicities.</p>
<p>The “fast.heur.simple” method (formerly called "simple.no.multiple")
generates simple graphs.
It is similar to “configuration” but tries to avoid multiple and
loop edges and restarts the generation from scratch if it gets stuck.
It can generate all simple realizations of a degree sequence,
but it is not guaranteed to sample them uniformly.
This method is relatively fast and it will eventually succeed
if the provided degree sequence is graphical, but there is no upper bound on
the number of iterations.</p>
<p>The “configuration.simple” method (formerly called "simple.no.multiple.uniform")
is
identical to “configuration”, but if the generated graph is not simple,
it rejects it and re-starts the generation.
It generates all simple graphs with the same probability.</p>
<p>The “vl” method samples undirected connected graphs approximately uniformly.
It is a Monte Carlo method based on degree-preserving edge switches.
This generator should be favoured if undirected and connected graphs are to be
generated and execution time is not a concern. igraph uses
the original implementation of Fabien Viger; for the algorithm, see
<a href="https://www-complexnetworks.lip6.fr/~latapy/FV/generation.html" class="external-link">https://www-complexnetworks.lip6.fr/~latapy/FV/generation.html</a>
and the paper <a href="https://arxiv.org/abs/cs/0502085" class="external-link">https://arxiv.org/abs/cs/0502085</a>.</p>
<p>The “edge.switching.simple” is an MCMC sampler based on
degree-preserving edge switches. It generates simple undirected or directed graphs.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="simplify.html">simplify()</a></code> to get rid of the multiple and/or loops edges,
<code><a href="realize_degseq.html">realize_degseq()</a></code> for a deterministic variant.</p>
<p>Random graph models (games)
<code><a href="erdos.renyi.game.html">erdos.renyi.game</a>()</code>,
<code><a href="sample_.html">sample_</a>()</code>,
<code><a href="sample_bipartite.html">sample_bipartite</a>()</code>,
<code><a href="sample_chung_lu.html">sample_chung_lu</a>()</code>,
<code><a href="sample_correlated_gnp.html">sample_correlated_gnp</a>()</code>,
<code><a href="sample_correlated_gnp_pair.html">sample_correlated_gnp_pair</a>()</code>,
<code><a href="sample_dot_product.html">sample_dot_product</a>()</code>,
<code><a href="sample_fitness.html">sample_fitness</a>()</code>,
<code><a href="sample_fitness_pl.html">sample_fitness_pl</a>()</code>,
<code><a href="sample_forestfire.html">sample_forestfire</a>()</code>,
<code><a href="sample_gnm.html">sample_gnm</a>()</code>,
<code><a href="sample_gnp.html">sample_gnp</a>()</code>,
<code><a href="sample_grg.html">sample_grg</a>()</code>,
<code><a href="sample_growing.html">sample_growing</a>()</code>,
<code><a href="sample_hierarchical_sbm.html">sample_hierarchical_sbm</a>()</code>,
<code><a href="sample_islands.html">sample_islands</a>()</code>,
<code><a href="sample_k_regular.html">sample_k_regular</a>()</code>,
<code><a href="sample_last_cit.html">sample_last_cit</a>()</code>,
<code><a href="sample_pa.html">sample_pa</a>()</code>,
<code><a href="sample_pa_age.html">sample_pa_age</a>()</code>,
<code><a href="sample_pref.html">sample_pref</a>()</code>,
<code><a href="sample_sbm.html">sample_sbm</a>()</code>,
<code><a href="sample_smallworld.html">sample_smallworld</a>()</code>,
<code><a href="sample_traits_callaway.html">sample_traits_callaway</a>()</code>,
<code><a href="sample_tree.html">sample_tree</a>()</code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Gabor Csardi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The simple generator</span></span></span>
<span class="r-in"><span><span class="va">undirected_graph</span> <span class="op">&lt;-</span> <span class="fu">sample_degseq</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="degree.html">degree</a></span><span class="op">(</span><span class="va">undirected_graph</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [38] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [75] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-in"><span><span class="fu"><a href="simplify.html">is_simple</a></span><span class="op">(</span><span class="va">undirected_graph</span><span class="op">)</span> <span class="co"># sometimes TRUE, but can be FALSE</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">directed_graph</span> <span class="op">&lt;-</span> <span class="fu">sample_degseq</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="degree.html">degree</a></span><span class="op">(</span><span class="va">directed_graph</span>, mode <span class="op">=</span> <span class="st">"out"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1  2  3  4  5  6  7  8  9 10</span>
<span class="r-in"><span><span class="fu"><a href="degree.html">degree</a></span><span class="op">(</span><span class="va">directed_graph</span>, mode <span class="op">=</span> <span class="st">"in"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10  9  8  7  6  5  4  3  2  1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The vl generator</span></span></span>
<span class="r-in"><span><span class="va">vl_graph</span> <span class="op">&lt;-</span> <span class="fu">sample_degseq</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">100</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"vl"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="degree.html">degree</a></span><span class="op">(</span><span class="va">vl_graph</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [38] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [75] 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2</span>
<span class="r-in"><span><span class="fu"><a href="simplify.html">is_simple</a></span><span class="op">(</span><span class="va">vl_graph</span><span class="op">)</span> <span class="co"># always TRUE</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Exponential degree distribution</span></span></span>
<span class="r-in"><span><span class="co">## We fix the seed as there's no guarantee</span></span></span>
<span class="r-in"><span><span class="co">##  that randomly picked integers will form a graphical degree sequence</span></span></span>
<span class="r-in"><span><span class="co">## (i.e. that there's a graph with these degrees)</span></span></span>
<span class="r-in"><span><span class="co">## withr::with_seed(42, {</span></span></span>
<span class="r-in"><span><span class="co">## exponential_degrees &lt;- sample(1:100, 100, replace = TRUE, prob = exp(-0.5 * (1:100)))</span></span></span>
<span class="r-in"><span><span class="co">## })</span></span></span>
<span class="r-in"><span><span class="va">exponential_degrees</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fl">5L</span>, <span class="fl">6L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">3L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">3L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">6L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">6L</span>, <span class="fl">8L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">5L</span>, <span class="fl">1L</span>, <span class="fl">10L</span>, <span class="fl">6L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">5L</span>, <span class="fl">2L</span>, <span class="fl">4L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">5L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">8L</span>, <span class="fl">2L</span>, <span class="fl">7L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">5L</span>, <span class="fl">3L</span>, <span class="fl">8L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">9L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3L</span>, <span class="fl">2L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">3L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">6L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">6L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">2L</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Note, that we'd have to correct the degree sequence if its sum is odd</span></span></span>
<span class="r-in"><span><span class="va">is_exponential_degrees_sum_odd</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">exponential_degrees</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">is_exponential_degrees_sum_odd</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">exponential_degrees</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">exponential_degrees</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">exp_vl_graph</span> <span class="op">&lt;-</span> <span class="fu">sample_degseq</span><span class="op">(</span><span class="va">exponential_degrees</span>, method <span class="op">=</span> <span class="st">"vl"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="degree.html">degree</a></span><span class="op">(</span><span class="va">exp_vl_graph</span><span class="op">)</span> <span class="op">==</span> <span class="va">exponential_degrees</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## An example that does not work</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># rlang::is_interactive()</span></span></span>
<span class="r-in"><span><span class="co">## withr::with_seed(11, {</span></span></span>
<span class="r-in"><span><span class="co">## exponential_degrees &lt;- sample(1:100, 100, replace = TRUE, prob = exp(-0.5 * (1:100)))</span></span></span>
<span class="r-in"><span><span class="co">## })</span></span></span>
<span class="r-in"><span><span class="va">exponential_degrees</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">7L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">5L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">5L</span>, <span class="fl">4L</span>, <span class="fl">3L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">3L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">4L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">6L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">4L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Note, that we'd have to correct the degree sequence if its sum is odd</span></span></span>
<span class="r-in"><span><span class="va">is_exponential_degrees_sum_odd</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">exponential_degrees</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">is_exponential_degrees_sum_odd</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">exponential_degrees</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">exponential_degrees</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">exp_vl_graph</span> <span class="op">&lt;-</span> <span class="fu">sample_degseq</span><span class="op">(</span><span class="va">exponential_degrees</span>, method <span class="op">=</span> <span class="st">"vl"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="co">## Power-law degree distribution</span></span></span>
<span class="r-in"><span><span class="co">## We fix the seed as there's no guarantee</span></span></span>
<span class="r-in"><span><span class="co">##  that randomly picked integers will form a graphical degree sequence</span></span></span>
<span class="r-in"><span><span class="co">## (i.e. that there's a graph with these degrees)</span></span></span>
<span class="r-in"><span><span class="co">## withr::with_seed(1, {</span></span></span>
<span class="r-in"><span><span class="co">##  powerlaw_degrees &lt;- sample(1:100, 100, replace = TRUE, prob = (1:100)^-2)</span></span></span>
<span class="r-in"><span><span class="co">## })</span></span></span>
<span class="r-in"><span><span class="va">powerlaw_degrees</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">6L</span>, <span class="fl">1L</span>, <span class="fl">6L</span>, <span class="fl">10L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">43L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">9L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">7L</span>, <span class="fl">1L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">5L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">5L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3L</span>, <span class="fl">13L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">5L</span>, <span class="fl">3L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">1L</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Note, that we correct the degree sequence if its sum is odd</span></span></span>
<span class="r-in"><span><span class="va">is_exponential_degrees_sum_odd</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">powerlaw_degrees</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">is_exponential_degrees_sum_odd</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">powerlaw_degrees</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">powerlaw_degrees</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">powerlaw_vl_graph</span> <span class="op">&lt;-</span> <span class="fu">sample_degseq</span><span class="op">(</span><span class="va">powerlaw_degrees</span>, method <span class="op">=</span> <span class="st">"vl"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="degree.html">degree</a></span><span class="op">(</span><span class="va">powerlaw_vl_graph</span><span class="op">)</span> <span class="op">==</span> <span class="va">powerlaw_degrees</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## An example that does not work</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># rlang::is_interactive()</span></span></span>
<span class="r-in"><span><span class="co">## withr::with_seed(2, {</span></span></span>
<span class="r-in"><span><span class="co">##  powerlaw_degrees &lt;- sample(1:100, 100, replace = TRUE, prob = (1:100)^-2)</span></span></span>
<span class="r-in"><span><span class="co">## })</span></span></span>
<span class="r-in"><span><span class="va">powerlaw_degrees</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">10L</span>, <span class="fl">10L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">4L</span>, <span class="fl">21L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">14L</span>, <span class="fl">1L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">25L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">10L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3L</span>, <span class="fl">19L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">8L</span>, <span class="fl">1L</span>, <span class="fl">3L</span>, <span class="fl">3L</span>, <span class="fl">36L</span>, <span class="fl">2L</span>, <span class="fl">2L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3L</span>, <span class="fl">5L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">4L</span>, <span class="fl">18L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">21L</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">1L</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Note, that we correct the degree sequence if its sum is odd</span></span></span>
<span class="r-in"><span><span class="va">is_exponential_degrees_sum_odd</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">powerlaw_degrees</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%%</a></span> <span class="fl">2</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">is_exponential_degrees_sum_odd</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">powerlaw_degrees</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">powerlaw_degrees</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">+</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="va">powerlaw_vl_graph</span> <span class="op">&lt;-</span> <span class="fu">sample_degseq</span><span class="op">(</span><span class="va">powerlaw_degrees</span>, method <span class="op">=</span> <span class="st">"vl"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="degree.html">degree</a></span><span class="op">(</span><span class="va">powerlaw_vl_graph</span><span class="op">)</span> <span class="op">==</span> <span class="va">powerlaw_degrees</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://github.com/ntamas" class="external-link">Tamás Nepusz</a>, <a href="https://www.traag.net/" class="external-link">Vincent Traag</a>, <a href="http://szhorvat.net/" class="external-link">Szabolcs Horvát</a>, <a href="https://fabilab.org/pages/people.html" class="external-link">Fabio Zanini</a>, <a href="https://github.com/GroteGnoom" class="external-link">Daniel Noom</a>, <a href="https://krlmlr.info/" class="external-link">Kirill Müller</a>, Chan Zuckerberg Initiative.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

