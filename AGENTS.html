<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>AI Agent Development Guidelines for igraph • igraph</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" sizes="any" href="favicon.ico"><link rel="manifest" href="site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="AI Agent Development Guidelines for igraph"><meta property="og:image" content="https://r.igraph.org/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">igraph</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.2.1.9003</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-get-started" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Get started</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-get-started"><li><a class="dropdown-item" href="articles/igraph.html">Intro</a></li>
    <li><a class="dropdown-item" href="articles/igraph_ES.html">Intro (Español)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="articles/installation-troubleshooting.html">Installation FAQs</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="articles/index.html">All articles</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/igraph/rigraph/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="logo.png" class="logo" alt=""><h1>AI Agent Development Guidelines for igraph</h1>
      <small class="dont-index">Source: <a href="https://github.com/igraph/rigraph/blob/main/AGENTS.md" class="external-link"><code>AGENTS.md</code></a></small>
    </div>

<div id="ai-agent-development-guidelines-for-igraph" class="section level1">

<blockquote>
<p><strong>Note</strong>: For GitHub Copilot-specific instructions, see <a href="copilot-instructions.html"><code>.github/copilot-instructions.md</code></a>.</p>
</blockquote>
<div class="section level2">
<h2 id="project-overview">Project Overview<a class="anchor" aria-label="anchor" href="#project-overview"></a></h2>
<p>igraph is an R package for network analysis and graph theory. It provides routines for simple graphs and network analysis, handles large graphs efficiently, and includes functions for generating random and regular graphs, graph visualization, centrality methods, and much more.</p>
</div>
<div class="section level2">
<h2 id="key-technologies">Key Technologies<a class="anchor" aria-label="anchor" href="#key-technologies"></a></h2>
<ul><li>
<strong>Language</strong>: R with C/C++ backend (uses the igraph C library)</li>
<li>
<strong>Testing</strong>: testthat framework</li>
<li>
<strong>Documentation</strong>: roxygen2 with Markdown syntax</li>
<li>
<strong>Code Formatting</strong>: air (R formatting tool)</li>
<li>
<strong>Build System</strong>: R CMD, devtools, Makefile</li>
<li>
<strong>Code Generation</strong>: Stimulus framework (see <code>tools/README.md</code>)</li>
</ul></div>
<div class="section level2">
<h2 id="development-setup">Development Setup<a class="anchor" aria-label="anchor" href="#development-setup"></a></h2>
<div class="section level3">
<h3 id="installation-and-dependencies">Installation and Dependencies<a class="anchor" aria-label="anchor" href="#installation-and-dependencies"></a></h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install all dependencies</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># Install build dependencies</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span>dependencies <span class="op">=</span> <span class="st">"Config/Needs/build"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="install-and-run-r">Install and run R<a class="anchor" aria-label="anchor" href="#install-and-run-r"></a></h3>
<ul><li>When run on GitHub Actions, assume that R, the package in its current state and all dependencies are installed.</li>
<li>Only install new packages when needed for implementing new features or tests.</li>
<li>Run <code>R -q -e 'devtools::check()'</code> to execute all checks as a final step.</li>
</ul></div>
<div class="section level3">
<h3 id="building-and-testing">Building and Testing<a class="anchor" aria-label="anchor" href="#building-and-testing"></a></h3>
<ul><li>Load package for development: <code><a href="https://pkgload.r-lib.org/reference/load_all.html" class="external-link">pkgload::load_all()</a></code>
</li>
<li>Run tests: <code>testthat::test_local(reporter = "check")</code>
</li>
<li>Run tests for a single file <code>test-foo.R</code>: <code>testthat::test_local(filter = "foo", reporter = "check")</code>
</li>
<li>Build package: <code><a href="https://devtools.r-lib.org/reference/build.html" class="external-link">devtools::build()</a></code>
</li>
<li>Check package: <code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code>
</li>
<li>Update <code>.Rd</code> documentation: <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code>
</li>
<li>Format code: <code>air format .</code>
</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="code-style-and-documentation">Code Style and Documentation<a class="anchor" aria-label="anchor" href="#code-style-and-documentation"></a></h2>
<div class="section level3">
<h3 id="pr-and-commit-style">PR and Commit Style<a class="anchor" aria-label="anchor" href="#pr-and-commit-style"></a></h3>
<ul><li>IMPORTANT: PR titles end up in <code>NEWS.md</code> grouped by conventional commit label. PRs and commits use the conventional commit style with backticks for code references such as <code>function_call()</code>
</li>
<li>PRs are generally squashed, a clean history within a PR is not necessary</li>
<li>Before resuming work on a PR, always merge the current base branch (typically <code>main</code>)</li>
</ul></div>
<div class="section level3">
<h3 id="comment-style">Comment Style<a class="anchor" aria-label="anchor" href="#comment-style"></a></h3>
<ul><li>Prefer expressive code over comments where possible</li>
<li>Add comments to utility functions that cannot be made immediately obvious</li>
<li>Focus comments on explaining the “why” and “how”, the “what” should be clear from the code itself</li>
<li>Use line breaks after each sentence</li>
</ul></div>
<div class="section level3">
<h3 id="r-code-conventions">R Code Conventions<a class="anchor" aria-label="anchor" href="#r-code-conventions"></a></h3>
<ul><li>Follow the <a href="https://style.tidyverse.org" class="external-link">tidyverse style guide</a> and the <a href="https://design.tidyverse.org" class="external-link">tidyverse design guide</a>
</li>
<li>Use <code>snake_case</code> for new functions</li>
<li>Use explicit package prefixes (e.g., <code><a href="https://withr.r-lib.org/reference/with_db_connection.html" class="external-link">withr::local_db_connection()</a></code>) for clarity</li>
<li>Maintain consistent indentation (2 spaces) and spacing patterns</li>
<li>Use meaningful variable names that reflect context</li>
<li>Run <code>air format .</code> before committing changes to ensure consistent formatting</li>
<li>Never change deprecated functions</li>
<li>Avoid <code><a href="https://rdrr.io/r/base/CallExternal.html" class="external-link">.Call()</a></code> outside <code>*_impl()</code> in <code>aaa-auto.R</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h3>
<ul><li>Use roxygen2 with Markdown syntax for all function documentation</li>
<li>Use explicit <code>@description</code> and <code>@details</code> sections, aim for a complete description and move only excess details to <code>@details</code>
</li>
<li>Use math notation for formulas: <code>\eqn{...}</code> for inline, <code>\deqn{...}</code> for display equations</li>
<li>Keep each sentence on its own line in roxygen2 comments for better readability</li>
<li>Document all arguments and return values</li>
<li>Document internal functions using devtag (work in progress)</li>
<li>Link to C documentation using <code>@cdocs</code> tag: <code>#' @cdocs igraph_function_name</code>
</li>
<li>Always run <code><a href="https://devtools.r-lib.org/reference/document.html" class="external-link">devtools::document()</a></code> after updating documentation</li>
</ul></div>
<div class="section level3">
<h3 id="naming-conventions">Naming Conventions<a class="anchor" aria-label="anchor" href="#naming-conventions"></a></h3>
<ul><li>Use <code>max</code> for maximal (graph theory term: a vertex is maximal if no other vertex dominates it) and <code>largest</code> for maximum (the biggest value in a set)</li>
</ul></div>
<div class="section level3">
<h3 id="new-functions">New functions<a class="anchor" aria-label="anchor" href="#new-functions"></a></h3>
<p>All new functions must include:</p>
<ul><li>Examples</li>
<li>Tests</li>
<li>Proper documentation, including arguments and return values</li>
<li>A concept so that it exists in the pkgdown reference index</li>
<li>An “experimental” badge via <code>r lifecycle::badge("experimental")</code>
</li>
<li>All arguments in <code>snake_case</code>, with documentation and suitable defaults</li>
<li>An ellipsis guarded with <code>check_dots_empty()</code> separating mandatory and optional arguments</li>
<li>Argument validation using built-in <code>check_*()</code> functions or <code>igraph_arg_match()</code>
</li>
</ul><p>If exporting a new function from the C library:</p>
<ul><li>Ensure it is autogenerated</li>
<li>Add tests for the <code>_impl</code> function</li>
<li>Name all arguments in all calls to the <code>_impl</code> function</li>
<li>For graph constructors, prefer <code>GATTR</code> and <code>GATTR-PARAM</code> in Stimulus over manually assigning attributes</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="file-structure-and-organization">File Structure and Organization<a class="anchor" aria-label="anchor" href="#file-structure-and-organization"></a></h2>
<div class="section level3">
<h3 id="test-files">Test Files<a class="anchor" aria-label="anchor" href="#test-files"></a></h3>
<ul><li>Test files should align with source files</li>
<li>
<code>R/name.R</code> → <code>tests/testthat/test-name.R</code>
</li>
</ul></div>
<div class="section level3">
<h3 id="generated-files">Generated Files<a class="anchor" aria-label="anchor" href="#generated-files"></a></h3>
<p><strong>Do not modify these files directly:</strong></p>
<ul><li>
<code>src/rinterface.c</code> (generated by Stimulus)</li>
<li>
<code>R/aaa-auto.R</code> (generated by Stimulus)</li>
</ul><p>Update them using: <code>make -f Makefile-cigraph src/rinterface.c R/aaa-auto.R</code></p>
<p>See <code>tools/README.md</code> for guidelines on code generation using the Stimulus framework.</p>
</div>
<div class="section level3">
<h3 id="build-artifacts">Build Artifacts<a class="anchor" aria-label="anchor" href="#build-artifacts"></a></h3>
<p>Do not commit: <code>*.d</code>, <code>*.o</code>, <code>*.so</code> files in <code>src/</code>, and <code>tests/testthat/testthat-problems.rds</code>. These are build artifacts that are regenerated automatically (see <code>src/README.md</code> for details on dependency tracking).</p>
<p>Careful with changes to <code>*.dd</code>, keep system headers out, only expect changes if new source files are added or their local dependencies change.</p>
</div>
</div>
<div class="section level2">
<h2 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a></h2>
<ul><li>Add test cases for all new functionality</li>
<li>For newly created autogenerated functions, always add a test to <code>test-aaa-auto.R</code>
</li>
<li>Test file naming should mirror source file naming</li>
<li>Implement both structured and snapshot tests. For the latter, ensure stability by setting a random seed and calling <code>local_igraph_options(print.id = FALSE)</code> if graph IDs are involved.</li>
<li>When testing error behavior, prefer snapshot tests.</li>
<li>Run tests frequently during development and at the end: <code>testthat::test_local(reporter = "check")</code>
</li>
<li>Run <code><a href="https://devtools.r-lib.org/reference/check.html" class="external-link">devtools::check()</a></code> as a final step to ensure all checks pass.</li>
</ul></div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://github.com/ntamas" class="external-link">Tamás Nepusz</a>, <a href="https://www.traag.net/" class="external-link">Vincent Traag</a>, <a href="http://szhorvat.net/" class="external-link">Szabolcs Horvát</a>, <a href="https://fabilab.org/pages/people.html" class="external-link">Fabio Zanini</a>, <a href="https://github.com/GroteGnoom" class="external-link">Daniel Noom</a>, <a href="https://krlmlr.info/" class="external-link">Kirill Müller</a>, Chan Zuckerberg Initiative, <a href="https://mr.schochastics.net/" class="external-link">David Schoch</a>, <a href="https://masalmon.eu/" class="external-link">Maëlle Salmon</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

    </footer></div>





  </body></html>

